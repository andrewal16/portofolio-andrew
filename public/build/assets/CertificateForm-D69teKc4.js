import{a as l,R as b,c as gr,u as fr,j as y,r as nt,s as at}from"./app-B6r_TxPj.js";import{D as pr,d as Rt,U as hr,R as Cr}from"./index--LWtAOuq.js";import{a as br,A as Sr}from"./app-layout-D7rl8n8V.js";import{F as Se,I as rt,C as dt,R as wt}from"./index-Ca7wppxU.js";import{S as Ze}from"./index-BNOpb2lg.js";import{a as xr,F as vr,j as $r,S as ot}from"./index-BZ9BXEnJ.js";import{R as yr}from"./BookOutlined-DiwOeDjZ.js";import{R as Er}from"./TrophyOutlined-BqKe-68Q.js";import{R as Pr}from"./LinkOutlined-D_y8xWvx.js";import{T as lt}from"./index-y3Adf1Mc.js";import{s as Ye}from"./index-B-0cTeuO.js";import{C as Mt}from"./index-DbKJ5h10.js";import{S as Rr,R as Dt}from"./FilePdfOutlined-BM70oNAA.js";import{I as wr}from"./index-DAm-49SJ.js";import{E as _t,G as Lt,d as et,H as zt,I as pt,J as Mr,K as qt,M as Dr,O as Me,P as yt,Q as mt,S as Ct,a as Ir,U as Wt,A as Oe,X as ft,Y as Nr,b as Xt,h as Hr,g as kr,u as jr,F as Or,C as Fr,B as gt}from"./ContextIsolator-Bw6ExzQV.js";import{R as Tr}from"./PlusOutlined-BILouNqv.js";import{R as Br}from"./FileImageOutlined-BdlPDr9R.js";import{T as Vr,R as Ar}from"./index--GLRQZWk.js";import{R as _r}from"./ArrowLeftOutlined-4PfLy0gN.js";import{I as Fe,K as de,f as Lr,w as St,a3 as zr,j as qr,B as ct,g as Gt,m as Yt,a as A,r as Wr,b as Ut,D as Kt,c as Qt,F as st,p as Xr,E as Gr}from"./render-DbXmZ5EJ.js";import{c as ae,w as It,F as Nt}from"./AntdIcon-CfDRJjfZ.js";import{g as Yr}from"./SafetyCertificateOutlined-DbWOw5Tm.js";import{D as Ur}from"./index-BLHpURQ3.js";import{I as Kr}from"./Input-DAOptVL4.js";import{M as Qr}from"./index-fYzC28Jc.js";import"./app-CbEWB9i-.js";import"./CalendarOutlined-Cyrma7M4.js";import"./ClockCircleOutlined-WFYb_qpz.js";import"./DeleteOutlined-D-hRQ3sF.js";import"./DownloadOutlined-BGhvxt2-.js";import"./EyeOutlined-CM2hfqon.js";import"./InfoCircleFilled-CRePx94_.js";import"./CheckOutlined-0PrG8dNn.js";import"./CloseOutlined-CdTwbbfa.js";import"./RocketOutlined-DIEW3gEz.js";import"./index-DfbFVuiC.js";import"./SearchOutlined-WRgWSdTL.js";import"./useClosable-BnFp-AKn.js";import"./Skeleton-BCZumm4n.js";import"./useMergedMask-DEfdHsZZ.js";import"./ActionButton-BlecjUrr.js";function Jr(e){const t="touches"in e?e.touches[0]:e,r=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset,o=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:t.pageX-r,pageY:t.pageY-o}}function Jt(e){const{targetRef:t,containerRef:r,direction:o,onDragChange:n,onDragChangeComplete:s,calculate:a,color:u,disabledDrag:i}=e,[m,d]=l.useState({x:0,y:0}),g=l.useRef(null),x=l.useRef(null);l.useEffect(()=>{d(a())},[u]),l.useEffect(()=>()=>{document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",x.current),g.current=null,x.current=null},[]);const h=c=>{const{pageX:C,pageY:E}=Jr(c),{x:S,y:P,width:w,height:D}=r.current.getBoundingClientRect(),{width:N,height:F}=t.current.getBoundingClientRect(),Y=N/2,H=F/2,_=Math.max(0,Math.min(C-S,w))-Y,ee=Math.max(0,Math.min(E-P,D))-H,I={x:_,y:o==="x"?m.y:ee};if(N===0&&F===0||N!==F)return!1;n?.(I)},p=c=>{c.preventDefault(),h(c)},f=c=>{c.preventDefault(),document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x.current),document.removeEventListener("touchmove",g.current),document.removeEventListener("touchend",x.current),g.current=null,x.current=null,s?.()};return[m,c=>{document.removeEventListener("mousemove",g.current),document.removeEventListener("mouseup",x.current),!i&&(h(c),document.addEventListener("mousemove",p),document.addEventListener("mouseup",f),document.addEventListener("touchmove",p),document.addEventListener("touchend",f),g.current=p,x.current=f)}]}const Zt=({size:e="default",color:t,prefixCls:r})=>b.createElement("div",{className:ae(`${r}-handler`,{[`${r}-handler-sm`]:e==="small"}),style:{backgroundColor:t}}),er=({children:e,style:t,prefixCls:r})=>b.createElement("div",{className:`${r}-palette`,style:{position:"relative",...t}},e),tr=l.forwardRef((e,t)=>{const{children:r,x:o,y:n}=e;return b.createElement("div",{ref:t,style:{position:"absolute",left:`${o}%`,top:`${n}%`,zIndex:1,transform:"translate(-50%, -50%)"}},r)}),Zr=({color:e,onChange:t,prefixCls:r,onChangeComplete:o,disabled:n})=>{const s=l.useRef(),a=l.useRef(),u=l.useRef(e),i=Fe(g=>{const x=_t({offset:g,targetRef:a,containerRef:s,color:e});u.current=x,t(x)}),[m,d]=Jt({color:e,containerRef:s,targetRef:a,calculate:()=>Lt(e),onDragChange:i,onDragChangeComplete:()=>o?.(u.current),disabledDrag:n});return b.createElement("div",{ref:s,className:`${r}-select`,onMouseDown:d,onTouchStart:d},b.createElement(er,{prefixCls:r},b.createElement(tr,{x:m.x,y:m.y,ref:a},b.createElement(Zt,{color:e.toRgbString(),prefixCls:r})),b.createElement("div",{className:`${r}-saturation`,style:{backgroundColor:`hsl(${e.toHsb().h},100%, 50%)`,backgroundImage:"linear-gradient(0deg, #000, transparent),linear-gradient(90deg, #fff, hsla(0, 0%, 100%, 0))"}})))},eo=(e,t)=>{const[r,o]=et(e,t);return[l.useMemo(()=>zt(r),[r]),o]},to=({colors:e,children:t,direction:r="to right",type:o,prefixCls:n})=>{const s=l.useMemo(()=>e.map((a,u)=>{let i=zt(a);return o==="alpha"&&u===e.length-1&&(i=new pt(i.setA(1))),i.toRgbString()}).join(","),[e,o]);return b.createElement("div",{className:`${n}-gradient`,style:{position:"absolute",inset:0,background:`linear-gradient(${r}, ${s})`}},t)},ro=e=>{const{prefixCls:t,colors:r,disabled:o,onChange:n,onChangeComplete:s,color:a,type:u}=e,i=l.useRef(null),m=l.useRef(null),d=l.useRef(a),g=c=>u==="hue"?c.getHue():c.a*100,x=Fe(c=>{const C=_t({offset:c,targetRef:m,containerRef:i,color:a,type:u});d.current=C,n(g(C))}),[h,p]=Jt({color:a,targetRef:m,containerRef:i,calculate:()=>Lt(a,u),onDragChange:x,onDragChangeComplete(){s(g(d.current))},direction:"x",disabledDrag:o}),f=b.useMemo(()=>{if(u==="hue"){const c=a.toHsb();return c.s=1,c.b=1,c.a=1,new pt(c)}return a},[a,u]),v=b.useMemo(()=>r.map(c=>`${c.color} ${c.percent}%`),[r]);return b.createElement("div",{ref:i,className:ae(`${t}-slider`,`${t}-slider-${u}`),onMouseDown:p,onTouchStart:p},b.createElement(er,{prefixCls:t},b.createElement(tr,{x:h.x,y:h.y,ref:m},b.createElement(Zt,{size:"small",color:f.toHexString(),prefixCls:t})),b.createElement(to,{colors:v,type:u,prefixCls:t})))};function oo(e){return l.useMemo(()=>{const{slider:t}=e||{};return[t||ro]},[e])}function it(){return it=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},it.apply(this,arguments)}const no=[{color:"rgb(255, 0, 0)",percent:0},{color:"rgb(255, 255, 0)",percent:17},{color:"rgb(0, 255, 0)",percent:33},{color:"rgb(0, 255, 255)",percent:50},{color:"rgb(0, 0, 255)",percent:67},{color:"rgb(255, 0, 255)",percent:83},{color:"rgb(255, 0, 0)",percent:100}],ao=l.forwardRef((e,t)=>{const{value:r,defaultValue:o,prefixCls:n=Mr,onChange:s,onChangeComplete:a,className:u,style:i,panelRender:m,disabledAlpha:d=!1,disabled:g=!1,components:x}=e,[h]=oo(x),[p,f]=eo(o||Dr,r),v=l.useMemo(()=>p.setA(1).toRgbString(),[p]),c=(H,_)=>{r||f(H),s?.(H,_)},C=H=>new pt(p.setHue(H)),E=H=>new pt(p.setA(H/100)),S=H=>{c(C(H),{type:"hue",value:H})},P=H=>{c(E(H),{type:"alpha",value:H})},w=H=>{a&&a(C(H))},D=H=>{a&&a(E(H))},N=ae(`${n}-panel`,u,{[`${n}-panel-disabled`]:g}),F={prefixCls:n,disabled:g,color:p},Y=b.createElement(b.Fragment,null,b.createElement(Zr,it({onChange:c},F,{onChangeComplete:a})),b.createElement("div",{className:`${n}-slider-container`},b.createElement("div",{className:ae(`${n}-slider-group`,{[`${n}-slider-group-disabled-alpha`]:d})},b.createElement(h,it({},F,{type:"hue",colors:no,min:0,max:359,value:p.getHue(),onChange:S,onChangeComplete:w})),!d&&b.createElement(h,it({},F,{type:"alpha",colors:[{percent:0,color:"rgba(255, 0, 4, 0)"},{percent:100,color:v}],min:0,max:100,value:p.a*100,onChange:P,onChangeComplete:D}))),b.createElement(qt,{color:p.toRgbString(),prefixCls:n})));return b.createElement("div",{className:N,style:i,ref:t},typeof m=="function"?m(Y):Y)}),rr=b.createContext({}),or=b.createContext({}),nr=({prefixCls:e,value:t,onChange:r})=>{const o=()=>{if(r&&t&&!t.cleared){const n=t.toHsb();n.a=0;const s=Me(n);s.cleared=!0,r(s)}};return b.createElement("div",{className:`${e}-clear`,onClick:o})},ar="hex",lr="rgb",sr="hsb",Qe=({prefixCls:e,min:t=0,max:r=100,value:o,onChange:n,className:s,formatter:a})=>{const u=`${e}-steppers`,[i,m]=l.useState(0),d=Number.isNaN(o)?i:o;return b.createElement(Vr,{className:ae(u,s),min:t,max:r,value:d,formatter:a,size:"small",onChange:g=>{m(g||0),n?.(g)}})},lo=({prefixCls:e,value:t,onChange:r})=>{const o=`${e}-alpha-input`,[n,s]=l.useState(()=>Me(t||"#000")),a=t||n,u=i=>{const m=a.toHsb();m.a=(i||0)/100;const d=Me(m);s(d),r?.(d)};return b.createElement(Qe,{value:yt(a),prefixCls:e,formatter:i=>`${i}%`,className:o,onChange:u})},so=/(^#[\da-f]{6}$)|(^#[\da-f]{8}$)/i,io=e=>so.test(`#${e}`),co=({prefixCls:e,value:t,onChange:r})=>{const o=`${e}-hex-input`,[n,s]=l.useState(()=>t?mt(t.toHexString()):void 0);l.useEffect(()=>{t&&s(mt(t.toHexString()))},[t]);const a=u=>{const i=u.target.value;s(mt(i)),io(mt(i,!0))&&r?.(Me(i))};return b.createElement(Kr,{className:o,value:n,prefix:"#",onChange:a,size:"small"})},uo=({prefixCls:e,value:t,onChange:r})=>{const o=`${e}-hsb-input`,[n,s]=l.useState(()=>Me(t||"#000")),a=t||n,u=(i,m)=>{const d=a.toHsb();d[m]=m==="h"?i:(i||0)/100;const g=Me(d);s(g),r?.(g)};return b.createElement("div",{className:o},b.createElement(Qe,{max:360,min:0,value:Number(a.toHsb().h),prefixCls:e,className:o,formatter:i=>Ct(i||0).toString(),onChange:i=>u(Number(i),"h")}),b.createElement(Qe,{max:100,min:0,value:Number(a.toHsb().s)*100,prefixCls:e,className:o,formatter:i=>`${Ct(i||0)}%`,onChange:i=>u(Number(i),"s")}),b.createElement(Qe,{max:100,min:0,value:Number(a.toHsb().b)*100,prefixCls:e,className:o,formatter:i=>`${Ct(i||0)}%`,onChange:i=>u(Number(i),"b")}))},mo=({prefixCls:e,value:t,onChange:r})=>{const o=`${e}-rgb-input`,[n,s]=l.useState(()=>Me(t||"#000")),a=t||n,u=(i,m)=>{const d=a.toRgb();d[m]=i||0;const g=Me(d);s(g),r?.(g)};return b.createElement("div",{className:o},b.createElement(Qe,{max:255,min:0,value:Number(a.toRgb().r),prefixCls:e,className:o,onChange:i=>u(Number(i),"r")}),b.createElement(Qe,{max:255,min:0,value:Number(a.toRgb().g),prefixCls:e,className:o,onChange:i=>u(Number(i),"g")}),b.createElement(Qe,{max:255,min:0,value:Number(a.toRgb().b),prefixCls:e,className:o,onChange:i=>u(Number(i),"b")}))},go=[ar,sr,lr].map(e=>({value:e,label:e.toUpperCase()})),fo=e=>{const{prefixCls:t,format:r,value:o,disabledAlpha:n,onFormatChange:s,onChange:a,disabledFormat:u}=e,[i,m]=et(ar,r),d=`${t}-input`,g=h=>{m(h),s?.(h)},x=l.useMemo(()=>{const h={value:o,prefixCls:t,onChange:a};switch(i){case sr:return b.createElement(uo,{...h});case lr:return b.createElement(mo,{...h});default:return b.createElement(co,{...h})}},[i,t,o,a]);return b.createElement("div",{className:`${d}-container`},!u&&b.createElement(Ze,{value:i,variant:"borderless",getPopupContainer:h=>h,popupMatchSelectWidth:68,placement:"bottomRight",onChange:g,className:`${t}-format-select`,size:"small",options:go}),b.createElement("div",{className:d},x),!n&&b.createElement(lo,{prefixCls:t,value:o,onChange:a}))};function xt(e,t,r){return(e-t)/(r-t)}function Et(e,t,r,o){const n=xt(t,r,o),s={};switch(e){case"rtl":s.right=`${n*100}%`,s.transform="translateX(50%)";break;case"btt":s.bottom=`${n*100}%`,s.transform="translateY(50%)";break;case"ttb":s.top=`${n*100}%`,s.transform="translateY(-50%)";break;default:s.left=`${n*100}%`,s.transform="translateX(-50%)";break}return s}function Ke(e,t){return Array.isArray(e)?e[t]:e}const Je=l.createContext({min:0,max:0,direction:"ltr",step:1,includedStart:0,includedEnd:0,tabIndex:0,keyboard:!0,styles:{},classNames:{}}),ir=l.createContext({});function vt(){return vt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},vt.apply(this,arguments)}const Ht=l.forwardRef((e,t)=>{const{prefixCls:r,value:o,valueIndex:n,onStartMove:s,onDelete:a,style:u,render:i,dragging:m,draggingDelete:d,onOffsetChange:g,onChangeComplete:x,onFocus:h,onMouseEnter:p,...f}=e,{min:v,max:c,direction:C,disabled:E,keyboard:S,range:P,tabIndex:w,ariaLabelForHandle:D,ariaLabelledByForHandle:N,ariaRequired:F,ariaValueTextFormatterForHandle:Y,styles:H,classNames:_}=l.useContext(Je),ee=`${r}-handle`,I=V=>{E||s(V,n)},j=V=>{h?.(V,n)},B=V=>{p(V,n)},O=V=>{if(!E&&S){let z=null;switch(V.which||V.keyCode){case de.LEFT:z=C==="ltr"||C==="btt"?-1:1;break;case de.RIGHT:z=C==="ltr"||C==="btt"?1:-1;break;case de.UP:z=C!=="ttb"?1:-1;break;case de.DOWN:z=C!=="ttb"?-1:1;break;case de.HOME:z="min";break;case de.END:z="max";break;case de.PAGE_UP:z=2;break;case de.PAGE_DOWN:z=-2;break;case de.BACKSPACE:case de.DELETE:a?.(n);break}z!==null&&(V.preventDefault(),g(z,n))}},U=V=>{switch(V.which||V.keyCode){case de.LEFT:case de.RIGHT:case de.UP:case de.DOWN:case de.HOME:case de.END:case de.PAGE_UP:case de.PAGE_DOWN:x?.();break}},k=Et(C,o,v,c);let L={};n!==null&&(L={tabIndex:E?null:Ke(w,n),role:"slider","aria-valuemin":v,"aria-valuemax":c,"aria-valuenow":o,"aria-disabled":E,"aria-label":Ke(D,n),"aria-labelledby":Ke(N,n),"aria-required":Ke(F,n),"aria-valuetext":Ke(Y,n)?.(o),"aria-orientation":C==="ltr"||C==="rtl"?"horizontal":"vertical",onMouseDown:I,onTouchStart:I,onFocus:j,onMouseEnter:B,onKeyDown:O,onKeyUp:U});let J=l.createElement("div",vt({ref:t,className:ae(ee,{[`${ee}-${n+1}`]:n!==null&&P,[`${ee}-dragging`]:m,[`${ee}-dragging-delete`]:d},_.handle),style:{...k,...u,...H.handle}},L,f));return i&&(J=i(J,{index:n,prefixCls:r,value:o,dragging:m,draggingDelete:d})),J});function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},ht.apply(this,arguments)}const po=l.forwardRef((e,t)=>{const{prefixCls:r,style:o,onStartMove:n,onOffsetChange:s,values:a,handleRender:u,activeHandleRender:i,draggingIndex:m,draggingDelete:d,onFocus:g,...x}=e,h=l.useRef({}),[p,f]=l.useState(!1),[v,c]=l.useState(-1),C=w=>{c(w),f(!0)},E=(w,D)=>{C(D),g?.(w)},S=(w,D)=>{C(D)};l.useImperativeHandle(t,()=>({focus:w=>{h.current[w]?.focus()},hideHelp:()=>{Lr.flushSync(()=>{f(!1)})}}));const P={prefixCls:r,onStartMove:n,onOffsetChange:s,render:u,onFocus:E,onMouseEnter:S,...x};return l.createElement(l.Fragment,null,a.map((w,D)=>{const N=m===D;return l.createElement(Ht,ht({ref:F=>{F?h.current[D]=F:delete h.current[D]},dragging:N,draggingDelete:N&&d,style:Ke(o,D),key:D,value:w,valueIndex:D},P))}),i&&p&&l.createElement(Ht,ht({key:"a11y"},P,{value:a[v],valueIndex:null,dragging:m!==-1,draggingDelete:d,render:i,style:{pointerEvents:"none"},tabIndex:null,"aria-hidden":!0})))}),ho=e=>{const{prefixCls:t,style:r,children:o,value:n,onClick:s}=e,{min:a,max:u,direction:i,includedStart:m,includedEnd:d,included:g}=l.useContext(Je),x=`${t}-text`,h=Et(i,n,a,u);return l.createElement("span",{className:ae(x,{[`${x}-active`]:g&&m<=n&&n<=d}),style:{...h,...r},onMouseDown:p=>{p.stopPropagation()},onClick:()=>{s(n)}},o)},Co=e=>{const{prefixCls:t,marks:r,onClick:o}=e,n=`${t}-mark`;return r.length?l.createElement("div",{className:n},r.map(({value:s,style:a,label:u})=>l.createElement(ho,{key:s,prefixCls:n,style:a,value:s,onClick:o},u))):null},bo=e=>{const{prefixCls:t,value:r,style:o,activeStyle:n}=e,{min:s,max:a,direction:u,included:i,includedStart:m,includedEnd:d}=l.useContext(Je),g=`${t}-dot`,x=i&&m<=r&&r<=d;let h={...Et(u,r,s,a),...typeof o=="function"?o(r):o};return x&&(h={...h,...typeof n=="function"?n(r):n}),l.createElement("span",{className:ae(g,{[`${g}-active`]:x}),style:h})},So=e=>{const{prefixCls:t,marks:r,dots:o,style:n,activeStyle:s}=e,{min:a,max:u,step:i}=l.useContext(Je),m=l.useMemo(()=>{const d=new Set;if(r.forEach(g=>{d.add(g.value)}),o&&i!==null){let g=a;for(;g<=u;)d.add(g),g+=i}return Array.from(d)},[a,u,i,o,r]);return l.createElement("div",{className:`${t}-step`},m.map(d=>l.createElement(bo,{prefixCls:t,key:d,value:d,style:n,activeStyle:s})))},kt=e=>{const{prefixCls:t,style:r,start:o,end:n,index:s,onStartMove:a,replaceCls:u}=e,{direction:i,min:m,max:d,disabled:g,range:x,classNames:h}=l.useContext(Je),p=`${t}-track`,f=xt(o,m,d),v=xt(n,m,d),c=S=>{!g&&a&&a(S,-1)},C={};switch(i){case"rtl":C.right=`${f*100}%`,C.width=`${v*100-f*100}%`;break;case"btt":C.bottom=`${f*100}%`,C.height=`${v*100-f*100}%`;break;case"ttb":C.top=`${f*100}%`,C.height=`${v*100-f*100}%`;break;default:C.left=`${f*100}%`,C.width=`${v*100-f*100}%`}const E=u||ae(p,{[`${p}-${s+1}`]:s!==null&&x,[`${t}-track-draggable`]:a},h.track);return l.createElement("div",{className:E,style:{...C,...r},onMouseDown:c,onTouchStart:c})},xo=e=>{const{prefixCls:t,style:r,values:o,startPoint:n,onStartMove:s}=e,{included:a,range:u,min:i,styles:m,classNames:d}=l.useContext(Je),g=l.useMemo(()=>{if(!u){if(o.length===0)return[];const p=n??i,f=o[0];return[{start:Math.min(p,f),end:Math.max(p,f)}]}const h=[];for(let p=0;p<o.length-1;p+=1)h.push({start:o[p],end:o[p+1]});return h},[o,u,n,i]);if(!a)return null;const x=g?.length&&(d.tracks||m.tracks)?l.createElement(kt,{index:null,prefixCls:t,start:g[0].start,end:g[g.length-1].end,replaceCls:ae(d.tracks,`${t}-tracks`),style:m.tracks}):null;return l.createElement(l.Fragment,null,x,g.map(({start:h,end:p},f)=>l.createElement(kt,{index:f,prefixCls:t,style:{...Ke(r,f),...m.track},start:h,end:p,key:f,onStartMove:s})))},vo=130;function jt(e){const t="targetTouches"in e?e.targetTouches[0]:e;return{pageX:t.pageX,pageY:t.pageY}}function $o(e,t,r,o,n,s,a,u,i,m,d){const[g,x]=l.useState(null),[h,p]=l.useState(-1),[f,v]=l.useState(!1),[c,C]=l.useState(r),[E,S]=l.useState(r),P=l.useRef(null),w=l.useRef(null),D=l.useRef(null),{onDragStart:N,onDragChange:F}=l.useContext(ir);St(()=>{h===-1&&C(r)},[r,h]),l.useEffect(()=>()=>{document.removeEventListener("mousemove",P.current),document.removeEventListener("mouseup",w.current),D.current&&(D.current.removeEventListener("touchmove",P.current),D.current.removeEventListener("touchend",w.current))},[]);const Y=(I,j,B)=>{j!==void 0&&x(j),C(I);let O=I;B&&(O=I.filter((U,k)=>k!==h)),a(O),F&&F({rawValues:I,deleteIndex:B?h:-1,draggingIndex:h,draggingValue:j})},H=Fe((I,j,B)=>{if(I===-1){const O=E[0],U=E[E.length-1],k=o-O,L=n-U;let J=j*(n-o);J=Math.max(J,k),J=Math.min(J,L),J=s(O+J)-O;const z=E.map(le=>le+J);Y(z)}else{const O=(n-o)*j,U=[...c];U[I]=E[I];const k=i(U,O,I,"dist");Y(k.values,k.value,B)}}),_=(I,j,B)=>{I.stopPropagation();const O=B||r,U=O[j];p(j),x(U),S(O),C(O),v(!1);const{pageX:k,pageY:L}=jt(I);let J=!1;N&&N({rawValues:O,draggingIndex:j,draggingValue:U});const V=le=>{le.preventDefault();const{pageX:Pe,pageY:se}=jt(le),K=Pe-k,re=se-L,{width:oe,height:ue}=e.current.getBoundingClientRect();let ie,Q;switch(t){case"btt":ie=-re/ue,Q=K;break;case"ttb":ie=re/ue,Q=K;break;case"rtl":ie=-K/oe,Q=re;break;default:ie=K/oe,Q=re}J=m?Math.abs(Q)>vo&&d<c.length:!1,v(J),H(j,ie,J)},z=le=>{le.preventDefault(),document.removeEventListener("mouseup",z),document.removeEventListener("mousemove",V),D.current&&(D.current.removeEventListener("touchmove",P.current),D.current.removeEventListener("touchend",w.current)),P.current=null,w.current=null,D.current=null,u(J),p(-1),v(!1)};document.addEventListener("mouseup",z),document.addEventListener("mousemove",V),I.currentTarget.addEventListener("touchend",z),I.currentTarget.addEventListener("touchmove",V),P.current=V,w.current=z,D.current=I.currentTarget},ee=l.useMemo(()=>{const I=[...r].sort((k,L)=>k-L),j=[...c].sort((k,L)=>k-L),B={};j.forEach(k=>{B[k]=(B[k]||0)+1}),I.forEach(k=>{B[k]=(B[k]||0)-1});const O=m?1:0;return Object.values(B).reduce((k,L)=>k+Math.abs(L),0)<=O?c:r},[r,c,m]);return[h,g,f,ee,_]}function yo(e,t,r,o,n,s){const a=l.useCallback(h=>Math.max(e,Math.min(t,h)),[e,t]),u=l.useCallback(h=>{if(r!==null){const p=e+Math.round((a(h)-e)/r)*r,f=C=>(String(C).split(".")[1]||"").length,v=Math.max(f(r),f(t),f(e)),c=Number(p.toFixed(v));return e<=c&&c<=t?c:null}return null},[r,e,t,a]),i=l.useCallback(h=>{const p=a(h),f=o.map(C=>C.value);r!==null&&f.push(u(h)),f.push(e,t);let v=f[0],c=t-e;return f.forEach(C=>{const E=Math.abs(p-C);E<=c&&(v=C,c=E)}),v},[e,t,o,r,a,u]),m=(h,p,f,v="unit")=>{if(typeof p=="number"){let c;const C=h[f],E=C+p;let S=[];o.forEach(N=>{S.push(N.value)}),S.push(e,t),S.push(u(C));const P=p>0?1:-1;v==="unit"?S.push(u(C+P*r)):S.push(u(E)),S=S.filter(N=>N!==null).filter(N=>p<0?N<=C:N>=C),v==="unit"&&(S=S.filter(N=>N!==C));const w=v==="unit"?C:E;c=S[0];let D=Math.abs(c-w);if(S.forEach(N=>{const F=Math.abs(N-w);F<D&&(c=N,D=F)}),c===void 0)return p<0?e:t;if(v==="dist")return c;if(Math.abs(p)>1){const N=[...h];return N[f]=c,m(N,p-P,f,v)}return c}else{if(p==="min")return e;if(p==="max")return t}},d=(h,p,f,v="unit")=>{const c=h[f],C=m(h,p,f,v);return{value:C,changed:C!==c}},g=h=>s===null&&h===0||typeof s=="number"&&h<s;return[i,(h,p,f,v="unit")=>{const c=h.map(i),C=c[f],E=m(c,p,f,v);if(c[f]=E,n===!1){const S=s||0;f>0&&c[f-1]!==C&&(c[f]=Math.max(c[f],c[f-1]+S)),f<c.length-1&&c[f+1]!==C&&(c[f]=Math.min(c[f],c[f+1]-S))}else if(typeof s=="number"||s===null){for(let S=f+1;S<c.length;S+=1){let P=!0;for(;g(c[S]-c[S-1])&&P;)({value:c[S],changed:P}=d(c,1,S))}for(let S=f;S>0;S-=1){let P=!0;for(;g(c[S]-c[S-1])&&P;)({value:c[S-1],changed:P}=d(c,-1,S-1))}for(let S=c.length-1;S>0;S-=1){let P=!0;for(;g(c[S]-c[S-1])&&P;)({value:c[S-1],changed:P}=d(c,-1,S-1))}for(let S=0;S<c.length-1;S+=1){let P=!0;for(;g(c[S+1]-c[S])&&P;)({value:c[S+1],changed:P}=d(c,1,S+1))}}return{value:c[f],values:c}}]}function Eo(e){return l.useMemo(()=>{if(e===!0||!e)return[!!e,!1,!1,0];const{editable:t,draggableTrack:r,minCount:o,maxCount:n}=e;return[!0,t,!t&&r,o||0,n]},[e])}const Po=l.forwardRef((e,t)=>{const{prefixCls:r="rc-slider",className:o,style:n,classNames:s,styles:a,id:u,disabled:i=!1,keyboard:m=!0,autoFocus:d,onFocus:g,onBlur:x,min:h=0,max:p=100,step:f=1,value:v,defaultValue:c,range:C,count:E,onChange:S,onBeforeChange:P,onAfterChange:w,onChangeComplete:D,allowCross:N=!0,pushable:F=!1,reverse:Y,vertical:H,included:_=!0,startPoint:ee,trackStyle:I,handleStyle:j,railStyle:B,dotStyle:O,activeDotStyle:U,marks:k,dots:L,handleRender:J,activeHandleRender:V,track:z,tabIndex:le=0,ariaLabelForHandle:Pe,ariaLabelledByForHandle:se,ariaRequired:K,ariaValueTextFormatterForHandle:re}=e,oe=l.useRef(null),ue=l.useRef(null),ie=l.useMemo(()=>H?Y?"ttb":"btt":Y?"rtl":"ltr",[Y,H]),[Q,ce,Re,De,Ee]=Eo(C),Z=l.useMemo(()=>isFinite(h)?h:0,[h]),he=l.useMemo(()=>isFinite(p)?p:100,[p]),ge=l.useMemo(()=>f!==null&&f<=0?1:f,[f]),je=l.useMemo(()=>typeof F=="boolean"?F?ge:!1:F>=0?F:!1,[F,ge]),T=l.useMemo(()=>Object.keys(k||{}).map(M=>{const $=k[M],R={value:Number(M)};return $&&typeof $=="object"&&!l.isValidElement($)&&("label"in $||"style"in $)?(R.style=$.style,R.label=$.label):R.label=$,R}).filter(({label:M})=>M||typeof M=="number").sort((M,$)=>M.value-$.value),[k]),[te,Ce]=yo(Z,he,ge,T,N,je),[ne,xe]=et(c,v),q=l.useMemo(()=>{const M=ne==null?[]:Array.isArray(ne)?ne:[ne],[$=Z]=M;let R=ne===null?[]:[$];if(Q){if(R=[...M],E||ne===void 0){const G=E>=0?E+1:2;for(R=R.slice(0,G);R.length<G;)R.push(R[R.length-1]??Z)}R.sort((G,me)=>G-me)}return R.forEach((G,me)=>{R[me]=te(G)}),R},[ne,Q,Z,E,te]),fe=M=>Q?M:M[0],ve=Fe(M=>{const $=[...M].sort((R,G)=>R-G);S&&!zr($,q,!0)&&S(fe($)),xe($)}),X=Fe(M=>{M&&oe.current.hideHelp();const $=fe(q);w?.($),It(!w,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),D?.($)}),be=M=>{if(i||!ce||q.length<=De)return;const $=[...q];$.splice(M,1),P?.(fe($)),ve($);const R=Math.max(0,M-1);oe.current.hideHelp(),oe.current.focus(R)},[$e,Te,ze,Be,Ie]=$o(ue,ie,q,Z,he,te,ve,X,Ce,ce,De),Ve=(M,$)=>{if(!i){const R=[...q];let G=0,me=0,Ue=he-Z;q.forEach((tt,Ge)=>{const ut=Math.abs(M-tt);ut<=Ue&&(Ue=ut,G=Ge),tt<M&&(me=Ge)});let We=G;ce&&Ue!==0&&(!Ee||q.length<Ee)?(R.splice(me+1,0,M),We=me+1):R[G]=M,Q&&!q.length&&E===void 0&&R.push(M);const Xe=fe(R);P?.(Xe),ve(R),$?(document.activeElement?.blur?.(),oe.current.focus(We),Ie($,We,R)):(w?.(Xe),It(!w,"[rc-slider] `onAfterChange` is deprecated. Please use `onChangeComplete` instead."),D?.(Xe))}},Ne=M=>{M.preventDefault();const{width:$,height:R,left:G,top:me,bottom:Ue,right:We}=ue.current.getBoundingClientRect(),{clientX:Xe,clientY:tt}=M;let Ge;switch(ie){case"btt":Ge=(Ue-tt)/R;break;case"ttb":Ge=(tt-me)/R;break;case"rtl":Ge=(We-Xe)/$;break;default:Ge=(Xe-G)/$}const ut=Z+Ge*(he-Z);Ve(te(ut),M)},[we,Ae]=l.useState(null),qe=(M,$)=>{if(!i){const R=Ce(q,M,$);P?.(fe(q)),ve(R.values),Ae(R.value)}};l.useEffect(()=>{if(we!==null){const M=q.indexOf(we);M>=0&&oe.current.focus(M)}Ae(null)},[we]);const _e=l.useMemo(()=>Re&&ge===null?!1:Re,[Re,ge]),He=Fe((M,$)=>{Ie(M,$),P?.(fe(q))}),Le=$e!==-1;l.useEffect(()=>{if(!Le){const M=q.lastIndexOf(Te);oe.current.focus(M)}},[Le]);const ye=l.useMemo(()=>[...Be].sort((M,$)=>M-$),[Be]),[ke,W]=l.useMemo(()=>Q?[ye[0],ye[ye.length-1]]:[Z,ye[0]],[ye,Q,Z]);l.useImperativeHandle(t,()=>({focus:()=>{oe.current.focus(0)},blur:()=>{const{activeElement:M}=document;ue.current?.contains(M)&&M?.blur()}})),l.useEffect(()=>{d&&oe.current.focus(0)},[]);const pe=l.useMemo(()=>({min:Z,max:he,direction:ie,disabled:i,keyboard:m,step:ge,included:_,includedStart:ke,includedEnd:W,range:Q,tabIndex:le,ariaLabelForHandle:Pe,ariaLabelledByForHandle:se,ariaRequired:K,ariaValueTextFormatterForHandle:re,styles:a||{},classNames:s||{}}),[Z,he,ie,i,m,ge,_,ke,W,Q,le,Pe,se,K,re,a,s]);return l.createElement(Je.Provider,{value:pe},l.createElement("div",{ref:ue,className:ae(r,o,{[`${r}-disabled`]:i,[`${r}-vertical`]:H,[`${r}-horizontal`]:!H,[`${r}-with-marks`]:T.length}),style:n,onMouseDown:Ne,id:u},l.createElement("div",{className:ae(`${r}-rail`,s?.rail),style:{...B,...a?.rail}}),z!==!1&&l.createElement(xo,{prefixCls:r,style:I,values:q,startPoint:ee,onStartMove:_e?He:void 0}),l.createElement(So,{prefixCls:r,marks:T,dots:L,style:O,activeStyle:U}),l.createElement(po,{ref:oe,prefixCls:r,style:j,values:Be,draggingIndex:$e,draggingDelete:ze,onStartMove:He,onOffsetChange:qe,onFocus:g,onBlur:x,handleRender:J,activeHandleRender:V,onChangeComplete:X,onDelete:ce?be:void 0}),l.createElement(Co,{prefixCls:r,marks:T,onClick:Ve})))}),cr=l.createContext({}),Ot=l.forwardRef((e,t)=>{const{open:r,draggingDelete:o,value:n}=e,s=l.useRef(null),a=r&&!o,u=l.useRef(null);function i(){ct.cancel(u.current),u.current=null}function m(){u.current=ct(()=>{s.current?.forceAlign(),u.current=null})}return l.useEffect(()=>(a?m():i(),i),[a,e.title,n]),l.createElement(xr,{ref:qr(s,t),...e,open:a})}),Ro=e=>{const{componentCls:t,antCls:r,controlSize:o,dotSize:n,marginFull:s,marginPart:a,colorFillContentHover:u,handleColorDisabled:i,calc:m,handleSize:d,handleSizeHover:g,handleActiveColor:x,handleActiveOutlineColor:h,handleLineWidth:p,handleLineWidthHover:f,motionDurationMid:v}=e;return{[t]:{...Wr(e),position:"relative",height:o,margin:`${A(a)} ${A(s)}`,padding:0,cursor:"pointer",touchAction:"none","&-vertical":{margin:`${A(s)} ${A(a)}`},[`${t}-rail`]:{position:"absolute",backgroundColor:e.railBg,borderRadius:e.borderRadiusXS,transition:`background-color ${v}`},[`${t}-track,${t}-tracks`]:{position:"absolute",transition:`background-color ${v}`},[`${t}-track`]:{backgroundColor:e.trackBg,borderRadius:e.borderRadiusXS},[`${t}-track-draggable`]:{boxSizing:"content-box",backgroundClip:"content-box",border:"solid rgba(0,0,0,0)"},"&:hover":{[`${t}-rail`]:{backgroundColor:e.railHoverBg},[`${t}-track`]:{backgroundColor:e.trackHoverBg},[`${t}-dot`]:{borderColor:u},[`${t}-handle::after`]:{boxShadow:`0 0 0 ${A(p)} ${e.colorPrimaryBorderHover}`},[`${t}-dot-active`]:{borderColor:e.dotActiveBorderColor}},[`${t}-handle`]:{position:"absolute",width:d,height:d,outline:"none",userSelect:"none","&-dragging-delete":{opacity:0},"&::before":{content:'""',position:"absolute",insetInlineStart:m(p).mul(-1).equal(),insetBlockStart:m(p).mul(-1).equal(),width:m(d).add(m(p).mul(2)).equal(),height:m(d).add(m(p).mul(2)).equal(),backgroundColor:"transparent"},"&::after":{content:'""',position:"absolute",insetBlockStart:0,insetInlineStart:0,width:d,height:d,backgroundColor:e.colorBgElevated,boxShadow:`0 0 0 ${A(p)} ${e.handleColor}`,outline:"0px solid transparent",borderRadius:"50%",cursor:"pointer",transition:`
            inset-inline-start ${v},
            inset-block-start ${v},
            width ${v},
            height ${v},
            box-shadow ${v},
            outline ${v}
          `},"&:hover, &:active, &:focus":{"&::before":{insetInlineStart:m(g).sub(d).div(2).add(f).mul(-1).equal(),insetBlockStart:m(g).sub(d).div(2).add(f).mul(-1).equal(),width:m(g).add(m(f).mul(2)).equal(),height:m(g).add(m(f).mul(2)).equal()},"&::after":{boxShadow:`0 0 0 ${A(f)} ${x}`,outline:`6px solid ${h}`,width:g,height:g,insetInlineStart:e.calc(d).sub(g).div(2).equal(),insetBlockStart:e.calc(d).sub(g).div(2).equal()}}},[`&-lock ${t}-handle`]:{"&::before, &::after":{transition:"none"}},[`${t}-mark`]:{position:"absolute",fontSize:e.fontSize},[`${t}-mark-text`]:{position:"absolute",display:"inline-block",color:e.colorTextDescription,textAlign:"center",wordBreak:"keep-all",cursor:"pointer",userSelect:"none","&-active":{color:e.colorText}},[`${t}-step`]:{position:"absolute",background:"transparent",pointerEvents:"none"},[`${t}-dot`]:{position:"absolute",width:n,height:n,backgroundColor:e.colorBgElevated,border:`${A(p)} solid ${e.dotBorderColor}`,borderRadius:"50%",cursor:"pointer",transition:`border-color ${e.motionDurationSlow}`,pointerEvents:"auto","&-active":{borderColor:e.dotActiveBorderColor}},[`&${t}-disabled`]:{cursor:"not-allowed",[`${t}-rail`]:{backgroundColor:`${e.railBg} !important`},[`${t}-track`]:{backgroundColor:`${e.trackBgDisabled} !important`},[`
          ${t}-dot
        `]:{backgroundColor:e.colorBgElevated,borderColor:e.trackBgDisabled,boxShadow:"none",cursor:"not-allowed"},[`${t}-handle::after`]:{backgroundColor:e.colorBgElevated,cursor:"not-allowed",width:d,height:d,boxShadow:`0 0 0 ${A(p)} ${i}`,insetInlineStart:0,insetBlockStart:0},[`
          ${t}-mark-text,
          ${t}-dot
        `]:{cursor:"not-allowed !important"}},[`&-tooltip ${r}-tooltip-container`]:{minWidth:"unset"}}}},ur=(e,t)=>{const{componentCls:r,railSize:o,handleSize:n,dotSize:s,marginFull:a,calc:u}=e,i=t?"paddingBlock":"paddingInline",m=t?"width":"height",d=t?"height":"width",g=t?"insetBlockStart":"insetInlineStart",x=t?"top":"insetInlineStart",h=u(o).mul(3).sub(n).div(2).equal(),p=u(n).sub(o).div(2).equal(),f=t?{borderWidth:`${A(p)} 0`,transform:`translateY(${A(u(p).mul(-1).equal())})`}:{borderWidth:`0 ${A(p)}`,transform:`translateX(${A(e.calc(p).mul(-1).equal())})`};return{[i]:o,[d]:u(o).mul(3).equal(),[`${r}-rail`]:{[m]:"100%",[d]:o},[`${r}-track,${r}-tracks`]:{[d]:o},[`${r}-track-draggable`]:{...f},[`${r}-handle`]:{[g]:h},[`${r}-mark`]:{insetInlineStart:0,top:0,[x]:u(o).mul(3).add(t?0:a).equal(),[m]:"100%"},[`${r}-step`]:{insetInlineStart:0,top:0,[x]:o,[m]:"100%",[d]:o},[`${r}-dot`]:{position:"absolute",[g]:u(o).sub(s).div(2).equal()}}},wo=e=>{const{componentCls:t,marginPartWithMark:r}=e;return{[`${t}-horizontal`]:{...ur(e,!0),[`&${t}-with-marks`]:{marginBottom:r}}}},Mo=e=>{const{componentCls:t}=e;return{[`${t}-vertical`]:{...ur(e,!1),height:"100%"}}},Do=e=>{const r=e.controlHeightLG/4,o=e.controlHeightSM/2,n=e.lineWidth+1,s=e.lineWidth+1*1.5,a=e.colorPrimary,u=new Nt(a).setA(.2).toRgbString();return{controlSize:r,railSize:4,handleSize:r,handleSizeHover:o,dotSize:8,handleLineWidth:n,handleLineWidthHover:s,railBg:e.colorFillTertiary,railHoverBg:e.colorFillSecondary,trackBg:e.colorPrimaryBorder,trackHoverBg:e.colorPrimaryBorderHover,handleColor:e.colorPrimaryBorder,handleActiveColor:a,handleActiveOutlineColor:u,handleColorDisabled:new Nt(e.colorTextDisabled).onBackground(e.colorBgContainer).toHexString(),dotBorderColor:e.colorBorderSecondary,dotActiveBorderColor:e.colorPrimaryBorder,trackBgDisabled:e.colorBgContainerDisabled}},Io=Gt("Slider",e=>{const t=Yt(e,{marginPart:e.calc(e.controlHeight).sub(e.controlSize).div(2).equal(),marginFull:e.calc(e.controlSize).div(2).equal(),marginPartWithMark:e.calc(e.controlHeightLG).sub(e.controlSize).equal()});return[Ro(t),wo(t),Mo(t)]},Do);function bt(){const[e,t]=l.useState(!1),r=l.useRef(null),o=()=>{ct.cancel(r.current)},n=s=>{o(),s?t(s):r.current=ct(()=>{t(s)})};return l.useEffect(()=>o,[]),[e,n]}function No(e){return e||e===null?e:t=>typeof t=="number"?t.toString():""}const Ho=b.forwardRef((e,t)=>{const{prefixCls:r,range:o,className:n,rootClassName:s,style:a,disabled:u,tooltip:i={},onChangeComplete:m,classNames:d,styles:g,vertical:x,orientation:h,...p}=e,[,f]=Ir(h,x),{getPrefixCls:v,direction:c,className:C,style:E,classNames:S,styles:P,getPopupContainer:w}=Ut("slider"),D=b.useContext(Kt),N=u??D,F={...e,disabled:N,vertical:f},[Y,H]=Qt([S,d],[P,g],{props:F}),{handleRender:_,direction:ee}=b.useContext(cr),j=(ee||c)==="rtl",[B,O]=bt(),[U,k]=bt(),L={...i},{open:J,placement:V,getPopupContainer:z,prefixCls:le,formatter:Pe}=L,se=J,K=(B||U)&&se!==!1,re=No(Pe),[oe,ue]=bt(),ie=T=>{m?.(T),ue(!1)},Q=(T,te)=>T||(te?j?"left":"right":"top"),ce=v("slider",r),[Re,De]=Io(ce),Ee=ae(n,C,Y.root,s,{[`${ce}-rtl`]:j,[`${ce}-lock`]:oe},Re,De);j&&!f&&(p.reverse=!p.reverse),b.useEffect(()=>{const T=()=>{ct(()=>{k(!1)},1)};return document.addEventListener("mouseup",T),()=>{document.removeEventListener("mouseup",T)}},[]);const Z=o&&!se,he=_||((T,te)=>{const{index:Ce}=te,ne=T.props;function xe(X,be,$e){$e&&p[X]?.(be),ne[X]?.(be)}const q={...ne,onMouseEnter:X=>{O(!0),xe("onMouseEnter",X)},onMouseLeave:X=>{O(!1),xe("onMouseLeave",X)},onMouseDown:X=>{k(!0),ue(!0),xe("onMouseDown",X)},onFocus:X=>{k(!0),p.onFocus?.(X),xe("onFocus",X,!0)},onBlur:X=>{k(!1),p.onBlur?.(X),xe("onBlur",X,!0)}},fe=b.cloneElement(T,q),ve=(!!se||K)&&re!==null;return Z?fe:b.createElement(Ot,{...L,prefixCls:v("tooltip",le),title:re?re(te.value):"",value:te.value,open:ve,placement:Q(V,f),key:Ce,classNames:{root:`${ce}-tooltip`},getPopupContainer:z||w},fe)}),ge=Z?(T,te)=>{const Ce=b.cloneElement(T,{style:{...T.props.style,visibility:"hidden"}});return b.createElement(Ot,{...L,prefixCls:v("tooltip",le),title:re?re(te.value):"",open:re!==null&&K,placement:Q(V,f),key:"tooltip",classNames:{root:`${ce}-tooltip`},getPopupContainer:z||w,draggingDelete:te.draggingDelete},Ce)}:void 0,je={...H.root,...E,...a};return b.createElement(Po,{...p,classNames:Y,styles:H,step:p.step,range:o,className:Ee,style:je,disabled:N,vertical:f,ref:t,prefixCls:ce,handleRender:he,activeHandleRender:ge,onChangeComplete:ie})}),dr=e=>{const{prefixCls:t,colors:r,type:o,color:n,range:s=!1,className:a,activeIndex:u,onActive:i,onDragStart:m,onDragChange:d,onKeyDelete:g,...x}=e,h={...x,track:!1},p=l.useMemo(()=>`linear-gradient(90deg, ${r.map(w=>`${w.color} ${w.percent}%`).join(", ")})`,[r]),f=l.useMemo(()=>!n||!o?null:o==="alpha"?n.toRgbString():`hsl(${n.toHsb().h}, 100%, 50%)`,[n,o]),v=Fe(m),c=Fe(d),C=l.useMemo(()=>({onDragStart:v,onDragChange:c}),[]),E=Fe((P,w)=>{const{onFocus:D,style:N,className:F,onKeyDown:Y}=P.props,H={...N};return o==="gradient"&&(H.background=Wt(r,w.value)),l.cloneElement(P,{onFocus:_=>{i?.(w.index),D?.(_)},style:H,className:ae(F,{[`${t}-slider-handle-active`]:u===w.index}),onKeyDown:_=>{(_.key==="Delete"||_.key==="Backspace")&&g&&g(w.index),Y?.(_)}})}),S=l.useMemo(()=>({direction:"ltr",handleRender:E}),[]);return l.createElement(cr.Provider,{value:S},l.createElement(ir.Provider,{value:C},l.createElement(Ho,{...h,className:ae(a,`${t}-slider`),tooltip:{open:!1},range:{editable:s,minCount:2},styles:{rail:{background:p},handle:f?{background:f}:{}},classNames:{rail:`${t}-slider-rail`,handle:`${t}-slider-handle`}})))},ko=e=>{const{value:t,onChange:r,onChangeComplete:o}=e,n=a=>r(a[0]),s=a=>o(a[0]);return l.createElement(dr,{...e,value:[t],onChange:n,onChangeComplete:s})};function Ft(e){return st(e).sort((t,r)=>t.percent-r.percent)}const jo=e=>{const{prefixCls:t,mode:r,onChange:o,onChangeComplete:n,onActive:s,activeIndex:a,onGradientDragging:u,colors:i}=e,m=r==="gradient",d=l.useMemo(()=>i.map(c=>({percent:c.percent,color:c.color.toRgbString()})),[i]),g=l.useMemo(()=>d.map(c=>c.percent),[d]),x=l.useRef(d),h=({rawValues:c,draggingIndex:C,draggingValue:E})=>{if(c.length>d.length){const S=Wt(d,E),P=st(d);P.splice(C,0,{percent:E,color:S}),x.current=P}else x.current=d;u(!0),o(new Oe(Ft(x.current)),!0)},p=({deleteIndex:c,draggingIndex:C,draggingValue:E})=>{let S=st(x.current);c!==-1?S.splice(c,1):(S[C]={...S[C],percent:E},S=Ft(S)),o(new Oe(S),!0)},f=c=>{const C=st(d);C.splice(c,1);const E=new Oe(C);o(E),n(E)},v=c=>{n(new Oe(d)),a>=c.length&&s(c.length-1),u(!1)};return m?l.createElement(dr,{min:0,max:100,prefixCls:t,className:`${t}-gradient-slider`,colors:d,color:null,value:g,range:!0,onChangeComplete:v,disabled:!1,type:"gradient",activeIndex:a,onActive:s,onDragStart:h,onDragChange:p,onKeyDelete:f}):null},Oo=l.memo(jo),Fo={slider:ko},Tt=()=>{const e=l.useContext(rr),{mode:t,onModeChange:r,modeOptions:o,prefixCls:n,allowClear:s,value:a,disabledAlpha:u,onChange:i,onClear:m,onChangeComplete:d,activeIndex:g,gradientDragging:x,...h}=e,p=b.useMemo(()=>a.cleared?[{percent:0,color:new Oe("")},{percent:100,color:new Oe("")}]:a.getColors(),[a]),f=!a.isGradient(),[v,c]=b.useState(a);St(()=>{f||c(p[g]?.color)},[f,p,x,g]);const C=b.useMemo(()=>f?a:x?v:p[g]?.color,[p,a,g,f,v,x]),[E,S]=b.useState(C),[P,w]=vr(),D=E?.equals(C)?C:E;St(()=>{S(C)},[P,C?.toHexString()]);const N=(I,j)=>{let B=Me(I);if(a.cleared){const U=B.toRgb();if(!U.r&&!U.g&&!U.b&&j){const{type:k,value:L=0}=j;B=new Oe({h:k==="hue"?L:0,s:1,b:1,a:k==="alpha"?L/100:1})}else B=ft(B)}if(t==="single")return B;const O=st(p);return O[g]={...O[g],color:B},new Oe(O)},F=(I,j,B)=>{const O=N(I,B);S(O.isGradient()?O.getColors()[g].color:O),i(O,j)},Y=(I,j)=>{d(N(I,j)),w()},H=I=>{i(N(I))};let _=null;const ee=o.length>1;return(s||ee)&&(_=b.createElement("div",{className:`${n}-operation`},ee&&b.createElement(Rr,{size:"small",options:o,value:t,onChange:r}),b.createElement(nr,{prefixCls:n,value:a,onChange:I=>{i(I),m?.()},...h}))),b.createElement(b.Fragment,null,_,b.createElement(Oo,{...e,colors:p}),b.createElement(ao,{prefixCls:n,value:D?.toHsb(),disabledAlpha:u,onChange:(I,j)=>{F(I,!0,j)},onChangeComplete:(I,j)=>{Y(I,j)},components:Fo}),b.createElement(fo,{value:C,onChange:H,prefixCls:n,disabledAlpha:u,...h}))},Bt=()=>{const{prefixCls:e,value:t,presets:r,onChange:o}=l.useContext(or);return Array.isArray(r)?b.createElement(Nr,{value:t,presets:r,prefixCls:e,onChange:o}):null},To=e=>{const{prefixCls:t,presets:r,panelRender:o,value:n,onChange:s,onClear:a,allowClear:u,disabledAlpha:i,mode:m,onModeChange:d,modeOptions:g,onChangeComplete:x,activeIndex:h,onActive:p,format:f,onFormatChange:v,gradientDragging:c,onGradientDragging:C,disabledFormat:E}=e,S=`${t}-inner`,P=b.useMemo(()=>({prefixCls:t,value:n,onChange:s,onClear:a,allowClear:u,disabledAlpha:i,mode:m,onModeChange:d,modeOptions:g,onChangeComplete:x,activeIndex:h,onActive:p,format:f,onFormatChange:v,gradientDragging:c,onGradientDragging:C,disabledFormat:E}),[t,n,s,a,u,i,m,d,g,x,h,p,f,v,c,C,E]),w=b.useMemo(()=>({prefixCls:t,value:n,presets:r,onChange:s}),[t,n,r,s]),D=b.createElement("div",{className:`${S}-content`},b.createElement(Tt,null),Array.isArray(r)&&b.createElement(Ur,null),b.createElement(Bt,null));return b.createElement(rr.Provider,{value:P},b.createElement(or.Provider,{value:w},b.createElement("div",{className:S},typeof o=="function"?o(D,{components:{Picker:Tt,Presets:Bt}}):D)))},Bo=l.forwardRef((e,t)=>{const{color:r,prefixCls:o,open:n,disabled:s,format:a,className:u,showText:i,activeIndex:m,...d}=e,g=`${o}-trigger`,x=`${g}-text`,h=`${x}-cell`,[p]=Xt("ColorPicker"),f=b.useMemo(()=>{if(!i)return"";if(typeof i=="function")return i(r);if(r.cleared)return p.transparent;if(r.isGradient())return r.getColors().map((E,S)=>{const P=m!==-1&&m!==S;return b.createElement("span",{key:S,className:ae(h,P&&`${h}-inactive`)},E.color.toRgbString()," ",E.percent,"%")});const c=r.toHexString().toUpperCase(),C=yt(r);switch(a){case"rgb":return r.toRgbString();case"hsb":return r.toHsbString();default:return C<100?`${c.slice(0,7)},${C}%`:c}},[r,a,i,m,p.transparent,h]),v=l.useMemo(()=>r.cleared?b.createElement(nr,{prefixCls:o}):b.createElement(qt,{prefixCls:o,color:r.toCssString()}),[r,o]);return b.createElement("div",{ref:t,className:ae(g,u,{[`${g}-active`]:n,[`${g}-disabled`]:s}),...Xr(d)},v,i&&b.createElement("div",{className:x},f))});function Vo(e,t,r){const[o]=Xt("ColorPicker"),[n,s]=et(e,t),[a,u]=l.useState("single"),[i,m]=l.useMemo(()=>{const f=(Array.isArray(r)?r:[r]).filter(E=>E);f.length||f.push("single");const v=new Set(f),c=[],C=(E,S)=>{v.has(E)&&c.push({label:S,value:E})};return C("single",o.singleColor),C("gradient",o.gradientColor),[c,v]},[r,o.singleColor,o.gradientColor]),[d,g]=l.useState(null),x=Fe(f=>{g(f),s(f)}),h=l.useMemo(()=>{const f=Me(n||"");return f.equals(d)?d:f},[n,d]),p=l.useMemo(()=>m.has(a)?a:i[0]?.value,[m,a,i]);return l.useEffect(()=>{u(h.isGradient()?"gradient":"single")},[h]),[h,x,p,u,i]}const mr=(e,t)=>({backgroundImage:`conic-gradient(${t} 25%, transparent 25% 50%, ${t} 50% 75%, transparent 75% 100%)`,backgroundSize:`${e} ${e}`}),Vt=(e,t)=>{const{componentCls:r,borderRadiusSM:o,colorPickerInsetShadow:n,lineWidth:s,colorFillSecondary:a}=e;return{[`${r}-color-block`]:{position:"relative",borderRadius:o,width:t,height:t,boxShadow:n,flex:"none",...mr("50%",e.colorFillSecondary),[`${r}-color-block-inner`]:{width:"100%",height:"100%",boxShadow:`inset 0 0 0 ${A(s)} ${a}`,borderRadius:"inherit"}}}},Ao=e=>{const{componentCls:t,antCls:r,fontSizeSM:o,lineHeightSM:n,colorPickerAlphaInputWidth:s,marginXXS:a,paddingXXS:u,controlHeightSM:i,marginXS:m,fontSizeIcon:d,paddingXS:g,colorTextPlaceholder:x,colorPickerInputNumberHandleWidth:h,lineWidth:p}=e;return{[`${t}-input-container`]:{display:"flex",[`${t}-steppers${r}-input-number`]:{fontSize:o,lineHeight:n,padding:0,[`${r}-input-number-input`]:{paddingInlineStart:u,paddingInlineEnd:0},[`${r}-input-number-handler-wrap`]:{width:h}},[`${t}-steppers${t}-alpha-input`]:{flex:`0 0 ${A(s)}`,marginInlineStart:a},[`${t}-format-select${r}-select`]:{marginInlineEnd:m,width:"auto","&-single":{[`${r}-select-selector`]:{padding:0,border:0},[`${r}-select-arrow`]:{insetInlineEnd:0},[`${r}-select-selection-item`]:{paddingInlineEnd:e.calc(d).add(a).equal(),fontSize:o,lineHeight:A(i)},[`${r}-select-item-option-content`]:{fontSize:o,lineHeight:n},[`${r}-select-dropdown`]:{[`${r}-select-item`]:{minHeight:"auto"}}}},[`${t}-input`]:{gap:a,alignItems:"center",flex:1,width:0,[`${t}-hsb-input,${t}-rgb-input`]:{height:i,display:"flex",gap:a,alignItems:"center"},[`${t}-steppers`]:{flex:1},[`${t}-hex-input${r}-input-affix-wrapper`]:{flex:1,padding:`0 ${A(g)}`,[`${r}-input`]:{fontSize:o,textTransform:"uppercase",lineHeight:A(e.calc(i).sub(e.calc(p).mul(2)).equal())},[`${r}-input-prefix`]:{color:x}}}}}},_o=e=>{const{componentCls:t,controlHeightLG:r,borderRadiusSM:o,colorPickerInsetShadow:n,marginSM:s,colorBgElevated:a,colorFillSecondary:u,lineWidthBold:i,colorPickerHandlerSize:m}=e;return{userSelect:"none",[`${t}-select`]:{[`${t}-palette`]:{minHeight:e.calc(r).mul(4).equal(),overflow:"hidden",borderRadius:o},[`${t}-saturation`]:{position:"absolute",borderRadius:"inherit",boxShadow:n,inset:0},marginBottom:s},[`${t}-handler`]:{width:m,height:m,border:`${A(i)} solid ${a}`,position:"relative",borderRadius:"50%",cursor:"pointer",boxShadow:`${n}, 0 0 0 1px ${u}`}}},Lo=e=>{const{componentCls:t,antCls:r,colorTextQuaternary:o,paddingXXS:n,colorPickerPresetColorSize:s,fontSizeSM:a,colorText:u,lineHeightSM:i,lineWidth:m,borderRadius:d,colorFill:g,colorWhite:x,marginXXS:h,paddingXS:p,fontHeightSM:f}=e;return{[`${t}-presets`]:{[`${r}-collapse-item > ${r}-collapse-header`]:{padding:0,[`${r}-collapse-expand-icon`]:{height:f,color:o,paddingInlineEnd:n}},[`${r}-collapse`]:{display:"flex",flexDirection:"column",gap:h},[`${r}-collapse-item > ${r}-collapse-panel > ${r}-collapse-body`]:{padding:`${A(p)} 0`},"&-label":{fontSize:a,color:u,lineHeight:i},"&-items":{display:"flex",flexWrap:"wrap",gap:e.calc(h).mul(1.5).equal(),[`${t}-presets-color`]:{position:"relative",cursor:"pointer",width:s,height:s,"&::before":{content:'""',pointerEvents:"none",width:e.calc(s).add(e.calc(m).mul(4)).equal(),height:e.calc(s).add(e.calc(m).mul(4)).equal(),position:"absolute",top:e.calc(m).mul(-2).equal(),insetInlineStart:e.calc(m).mul(-2).equal(),borderRadius:d,border:`${A(m)} solid transparent`,transition:`border-color ${e.motionDurationMid} ${e.motionEaseInBack}`},"&:hover::before":{borderColor:g},"&::after":{boxSizing:"border-box",position:"absolute",top:"50%",insetInlineStart:"21.5%",display:"table",width:e.calc(s).div(13).mul(5).equal(),height:e.calc(s).div(13).mul(8).equal(),border:`${A(e.lineWidthBold)} solid ${e.colorWhite}`,borderTop:0,borderInlineStart:0,transform:"rotate(45deg) scale(0) translate(-50%,-50%)",opacity:0,content:'""',transition:`all ${e.motionDurationFast} ${e.motionEaseInBack}, opacity ${e.motionDurationFast}`},[`&${t}-presets-color-checked`]:{"&::after":{opacity:1,borderColor:x,transform:"rotate(45deg) scale(1) translate(-50%,-50%)",transition:`transform ${e.motionDurationMid} ${e.motionEaseOutBack} ${e.motionDurationFast}`},[`&${t}-presets-color-bright`]:{"&::after":{borderColor:"rgba(0, 0, 0, 0.45)"}}}}},"&-empty":{fontSize:a,color:o}}}},zo=e=>{const{componentCls:t,colorPickerInsetShadow:r,colorBgElevated:o,colorFillSecondary:n,lineWidthBold:s,colorPickerHandlerSizeSM:a,colorPickerSliderHeight:u,marginSM:i,marginXS:m}=e,d=e.calc(a).sub(e.calc(s).mul(2).equal()).equal(),g=e.calc(a).add(e.calc(s).mul(2).equal()).equal(),x={"&:after":{transform:"scale(1)",boxShadow:`${r}, 0 0 0 1px ${e.colorPrimaryActive}`}};return{[`${t}-slider`]:[mr(A(u),e.colorFillSecondary),{margin:0,padding:0,height:u,borderRadius:e.calc(u).div(2).equal(),"&-rail":{height:u,borderRadius:e.calc(u).div(2).equal(),boxShadow:r},[`& ${t}-slider-handle`]:{width:d,height:d,top:0,borderRadius:"100%","&:before":{display:"block",position:"absolute",background:"transparent",left:{_skip_check_:!0,value:"50%"},top:"50%",transform:"translate(-50%, -50%)",width:g,height:g,borderRadius:"100%"},"&:after":{width:a,height:a,border:`${A(s)} solid ${o}`,boxShadow:`${r}, 0 0 0 1px ${n}`,outline:"none",insetInlineStart:e.calc(s).mul(-1).equal(),top:e.calc(s).mul(-1).equal(),background:"transparent",transition:"none"},"&:focus":x}}],[`${t}-slider-container`]:{display:"flex",gap:i,marginBottom:i,[`${t}-slider-group`]:{flex:1,flexDirection:"column",justifyContent:"space-between",display:"flex","&-disabled-alpha":{justifyContent:"center"}}},[`${t}-gradient-slider`]:{marginBottom:m,[`& ${t}-slider-handle`]:{"&:after":{transform:"scale(0.8)"},"&-active, &:focus":x}}}},$t=(e,t,r)=>({borderInlineEndWidth:e.lineWidth,borderColor:t,boxShadow:`0 0 0 ${A(e.controlOutlineWidth)} ${r}`,outline:0}),qo=e=>{const{componentCls:t}=e;return{"&-rtl":{[`${t}-presets-color`]:{"&::after":{direction:"ltr"}},[`${t}-clear`]:{"&::after":{direction:"ltr"}}}}},At=(e,t,r)=>{const{componentCls:o,borderRadiusSM:n,lineWidth:s,colorSplit:a,colorBorder:u,red6:i}=e;return{[`${o}-clear`]:{width:t,height:t,borderRadius:n,border:`${A(s)} solid ${a}`,position:"relative",overflow:"hidden",cursor:"inherit",transition:`all ${e.motionDurationFast}`,...r,"&::after":{content:'""',position:"absolute",insetInlineEnd:e.calc(s).mul(-1).equal(),top:e.calc(s).mul(-1).equal(),display:"block",width:40,height:2,transformOrigin:"calc(100% - 1px) 1px",transform:"rotate(-45deg)",backgroundColor:i},"&:hover":{borderColor:u}}}},Wo=e=>{const{componentCls:t,colorError:r,colorWarning:o,colorErrorHover:n,colorWarningHover:s,colorErrorOutline:a,colorWarningOutline:u}=e;return{[`&${t}-status-error`]:{borderColor:r,"&:hover":{borderColor:n},[`&${t}-trigger-active`]:{...$t(e,r,a)}},[`&${t}-status-warning`]:{borderColor:o,"&:hover":{borderColor:s},[`&${t}-trigger-active`]:{...$t(e,o,u)}}}},Xo=e=>{const{componentCls:t,controlHeightLG:r,controlHeightSM:o,controlHeight:n,controlHeightXS:s,borderRadius:a,borderRadiusSM:u,borderRadiusXS:i,borderRadiusLG:m,fontSizeLG:d}=e;return{[`&${t}-lg`]:{minWidth:r,minHeight:r,borderRadius:m,[`${t}-color-block, ${t}-clear`]:{width:n,height:n,borderRadius:a},[`${t}-trigger-text`]:{fontSize:d}},[`&${t}-sm`]:{minWidth:o,minHeight:o,borderRadius:u,[`${t}-color-block, ${t}-clear`]:{width:s,height:s,borderRadius:i},[`${t}-trigger-text`]:{lineHeight:A(s)}}}},Go=e=>{const{antCls:t,componentCls:r,colorPickerWidth:o,colorPrimary:n,motionDurationMid:s,colorBgElevated:a,colorTextDisabled:u,colorText:i,colorBgContainerDisabled:m,borderRadius:d,marginXS:g,marginSM:x,controlHeight:h,controlHeightSM:p,colorBgTextActive:f,colorPickerPresetColorSize:v,colorPickerPreviewSize:c,lineWidth:C,colorBorder:E,paddingXXS:S,fontSize:P,colorPrimaryHover:w,controlOutline:D}=e;return[{[r]:{[`${r}-inner`]:{"&-content":{display:"flex",flexDirection:"column",width:o,[`& > ${t}-divider`]:{margin:`${A(x)} 0 ${A(g)}`}},[`${r}-panel`]:{..._o(e)},...zo(e),...Vt(e,c),...Ao(e),...Lo(e),...At(e,v,{marginInlineStart:"auto"}),[`${r}-operation`]:{display:"flex",justifyContent:"space-between",marginBottom:g}},"&-trigger":{minWidth:h,minHeight:h,borderRadius:d,border:`${A(C)} solid ${E}`,cursor:"pointer",display:"inline-flex",alignItems:"flex-start",justifyContent:"center",transition:`all ${s}`,background:a,padding:e.calc(S).sub(C).equal(),[`${r}-trigger-text`]:{marginInlineStart:g,marginInlineEnd:e.calc(g).sub(e.calc(S).sub(C)).equal(),fontSize:P,color:i,alignSelf:"center","&-cell":{"&:not(:last-child):after":{content:'", "'},"&-inactive":{color:u}}},"&:hover":{borderColor:w},[`&${r}-trigger-active`]:{...$t(e,n,D)},"&-disabled":{color:u,background:m,cursor:"not-allowed","&:hover":{borderColor:f},[`${r}-trigger-text`]:{color:u}},...At(e,p),...Vt(e,p),...Wo(e),...Xo(e)},...qo(e)}},Hr(e,{focusElCls:`${r}-trigger-active`})]},Yo=Gt("ColorPicker",e=>{const{colorTextQuaternary:t,marginSM:r}=e,o=8,n=Yt(e,{colorPickerWidth:234,colorPickerHandlerSize:16,colorPickerHandlerSizeSM:12,colorPickerAlphaInputWidth:44,colorPickerInputNumberHandleWidth:16,colorPickerPresetColorSize:24,colorPickerInsetShadow:`inset 0 0 1px 0 ${t}`,colorPickerSliderHeight:o,colorPickerPreviewSize:e.calc(o).mul(2).add(r).equal()});return Go(n)}),Pt=e=>{const{mode:t,value:r,defaultValue:o,format:n,defaultFormat:s,allowClear:a=!1,presets:u,children:i,trigger:m="click",open:d,disabled:g,placement:x="bottomLeft",arrow:h=!0,panelRender:p,showText:f,style:v,className:c,size:C,rootClassName:E,prefixCls:S,styles:P,classNames:w,disabledAlpha:D=!1,onFormatChange:N,onChange:F,onClear:Y,onOpenChange:H,onChangeComplete:_,getPopupContainer:ee,autoAdjustOverflow:I=!0,destroyTooltipOnHide:j,destroyOnHidden:B,disabledFormat:O,...U}=e,{getPrefixCls:k,direction:L,className:J,style:V,classNames:z,styles:le}=Ut("colorPicker"),Pe=l.useContext(Kt),se=g??Pe,K=k("color-picker",S),{compactSize:re,compactItemClassnames:oe}=kr(K,L),ue=jr(W=>C??re??W),ie={...e,trigger:m,allowClear:a,autoAdjustOverflow:I,disabledAlpha:D,arrow:h,placement:x,disabled:se,size:ue},[Q,ce]=Qt([z,w],[le,P],{props:ie},{popup:{_default:"root"}}),[Re,De]=et(!1,d),Ee=!se&&Re,[Z,he]=et(s,n),ge=W=>{he(W),Z!==W&&N?.(W)},je=W=>{(!W||!se)&&(De(W),H?.(W))},[T,te,Ce,ne,xe]=Vo(o,r,t),q=l.useMemo(()=>yt(T)<100,[T]),[fe,ve]=b.useState(null),X=W=>{if(_){let pe=Me(W);D&&q&&(pe=ft(W)),_(pe)}},be=(W,pe)=>{let M=Me(W);D&&q&&(M=ft(M)),te(M),ve(null),F&&F(M,M.toCssString()),pe||X(M)},[$e,Te]=b.useState(0),[ze,Be]=b.useState(!1),Ie=W=>{if(ne(W),W==="single"&&T.isGradient())Te(0),be(new Oe(T.getColors()[0].color)),ve(T);else if(W==="gradient"&&!T.isGradient()){const pe=q?ft(T):T;be(new Oe(fe||[{percent:0,color:pe},{percent:100,color:pe}]))}},{status:Ve}=b.useContext(Or),Ne=Gr(K),[we,Ae]=Yo(K,Ne),qe={[`${K}-rtl`]:L},_e=ae(Q.root,E,Ae,Ne,qe),He=ae($r(K,Ve),{[`${K}-sm`]:ue==="small",[`${K}-lg`]:ue==="large"},oe,J,_e,c,we),Le=ae(K,_e,Q.popup?.root),ye={open:Ee,trigger:m,placement:x,arrow:h,rootClassName:E,getPopupContainer:ee,autoAdjustOverflow:I,destroyOnHidden:B??!!j},ke={...ce.root,...V,...v};return b.createElement(br,{classNames:{root:Le},styles:{root:ce.popup?.root,container:P?.popupOverlayInner},onOpenChange:je,content:b.createElement(Fr,{form:!0},b.createElement(To,{mode:Ce,onModeChange:Ie,modeOptions:xe,prefixCls:K,value:T,allowClear:a,disabled:se,disabledAlpha:D,presets:u,panelRender:p,format:Z,onFormatChange:ge,onChange:be,onChangeComplete:X,onClear:Y,activeIndex:$e,onActive:Te,gradientDragging:ze,onGradientDragging:Be,disabledFormat:O})),...ye},i||b.createElement(Bo,{activeIndex:Ee?$e:-1,open:Ee,className:He,style:ke,prefixCls:K,disabled:se,showText:f,format:Z,...U,color:T}))},Uo=Yr(Pt,void 0,e=>({...e,placement:"bottom",autoAdjustOverflow:!1}),"color-picker",e=>e);Pt._InternalPanelDoNotUseOrYouWillBeFired=Uo;function zn(){const e=gr.c(101),{typeForm:t,certificate:r,availableTags:o,errors:n,flash:s}=fr().props,[a]=Se.useForm(),[u,i]=l.useState(null),[m,d]=l.useState(r?.image_url||null),[g,x]=l.useState("image");let h;e[0]!==o?(h=o||[],e[0]=o,e[1]=h):h=e[1];const[p,f]=l.useState(h);let v;e[2]!==r?.tags?(v=r?.tags||[],e[2]=r?.tags,e[3]=v):v=e[3];const[c,C]=l.useState(v),[E,S]=l.useState(!1),[P]=Se.useForm(),[w,D]=l.useState("#1890ff"),[N,F]=l.useState(!1),[Y,H]=l.useState(!1);let _,ee;e[4]!==r||e[5]!==a||e[6]!==t?(_=()=>{if(t==="edit"&&r&&(a.setFieldsValue({name:r.name,issuer:r.issuer,issued_at:r.issued_at?Rt(r.issued_at):null,credential_id:r.credential_id,credential_url:r.credential_url,category:r.category||"learning",tags:r.tags}),d(r.image_url),C(r.tags),r.image_url)){const $=r.image_url.toLowerCase().endsWith(".pdf");x($?"pdf":"image")}},ee=[t,r,a],e[4]=r,e[5]=a,e[6]=t,e[7]=_,e[8]=ee):(_=e[7],ee=e[8]),l.useEffect(_,ee);let I,j;e[9]!==s?(I=()=>{s?.success&&Ye.success(s.success)},j=[s],e[9]=s,e[10]=I,e[11]=j):(I=e[10],j=e[11]),l.useEffect(I,j);let B,O;e[12]!==n||e[13]!==a?(B=()=>{if(n&&Object.keys(n).length>0){const $=Object.keys(n).map(R=>({name:R,errors:[n[R]]}));a.setFields($),Ye.error("Please check the form for errors!")}},O=[n,a],e[12]=n,e[13]=a,e[14]=B,e[15]=O):(B=e[14],O=e[15]),l.useEffect(B,O);let U,k;e[16]!==o?(U=()=>{o&&f(o)},k=[o],e[16]=o,e[17]=U,e[18]=k):(U=e[17],k=e[18]),l.useEffect(U,k);let L;e[19]===Symbol.for("react.memo_cache_sentinel")?(L=$=>{if($.file.status==="removed"){i(null),d(null),x("image");return}const R=$.file.originFileObj||$.file,G=R.type==="application/pdf",me=["image/jpeg","image/jpg","image/png","image/webp"].includes(R.type);if(!G&&!me){Ye.error("Only JPG, PNG, WEBP, or PDF files allowed!");return}const Ue=G?10485760:5242880;if(R.size>Ue){Ye.error(`Max size: ${G?"10MB":"5MB"}!`);return}x(G?"pdf":"image");const We=new FileReader;We.onload=Xe=>d(Xe.target.result),We.readAsDataURL(R),i(R)},e[19]=L):L=e[19];const J=L;let V;e[20]!==P?(V=()=>{S(!0),P.resetFields(),D("#1890ff")},e[20]=P,e[21]=V):V=e[21];const z=V;let le;e[22]!==w||e[23]!==P?(le=async()=>{try{const $=await P.validateFields();H(!0),nt.post(at("admin.tags.store"),{name:$.name,color:w},{preserveScroll:!0,preserveState:!0,only:["availableTags","flash"],onSuccess:R=>{S(!1),P.resetFields();const G=R.props.availableTags.find(me=>me.label===$.name);G&&C(me=>[...me,G.value])},onError:en,onFinish:()=>H(!1)})}catch{H(!1)}},e[22]=w,e[23]=P,e[24]=le):le=e[24];const Pe=le;let se;e[25]!==r||e[26]!==u||e[27]!==t?(se=$=>{if(!$.name||!$.issuer||!$.issued_at){Ye.error("Please fill in all required fields!");return}F(!0);const R=new FormData;R.append("name",$.name),R.append("issuer",$.issuer),R.append("issued_at",Rt($.issued_at).format("YYYY-MM-DD")),R.append("category",$.category||"learning"),$.credential_id&&R.append("credential_id",$.credential_id),$.credential_url&&R.append("credential_url",$.credential_url),u&&R.append("image",u),$.tags?.length>0?$.tags.forEach(me=>R.append("tags[]",me)):R.append("tags",JSON.stringify([]));const G={preserveScroll:!0,onFinish:()=>F(!1),onSuccess:()=>{Ye.success(t==="create"?"Certificate created!":"Certificate updated!"),nt.visit(at("admin.certificate.index"))},onError:Zo};t==="create"?nt.post(at("admin.certificate.store"),R,G):(R.append("_method","PUT"),nt.post(at("admin.certificate.update",r.id),R,G))},e[25]=r,e[26]=u,e[27]=t,e[28]=se):se=e[28];const K=se;let re;e[29]!==g||e[30]!==m?(re=()=>m?g==="pdf"?y.jsx(Mt,{size:"small",style:{marginTop:16},title:y.jsxs(ot,{children:[y.jsx(Dt,{style:{color:"#ff4d4f"}}),y.jsx("span",{children:"PDF Preview"})]}),children:y.jsx("iframe",{src:m,style:{width:"100%",height:400,border:"1px solid #f0f0f0",borderRadius:8},title:"PDF Preview"})}):y.jsx("div",{style:{marginTop:16},children:y.jsx(wr,{src:m,alt:"Preview",style:{maxWidth:400,borderRadius:8}})}):null,e[29]=g,e[30]=m,e[31]=re):re=e[31];const oe=re,ue=t==="create"?"Create New Certificate":"Edit Certificate";let ie;e[32]===Symbol.for("react.memo_cache_sentinel")?(ie={category:"learning"},e[32]=ie):ie=e[32];let Q;e[33]===Symbol.for("react.memo_cache_sentinel")?(Q=y.jsx(Se.Item,{label:"Certificate Name",name:"name",rules:[{required:!0,message:"Required!"}],children:y.jsx(rt,{placeholder:"e.g., Data Science Fundamentals",size:"large"})}),e[33]=Q):Q=e[33];let ce;e[34]===Symbol.for("react.memo_cache_sentinel")?(ce=y.jsx(Se.Item,{label:"Issuer / Platform",name:"issuer",rules:[{required:!0,message:"Required!"}],children:y.jsx(rt,{placeholder:"e.g., Dicoding, Coursera",size:"large"})}),e[34]=ce):ce=e[34];let Re;e[35]===Symbol.for("react.memo_cache_sentinel")?(Re=[{required:!0,message:"Required!"}],e[35]=Re):Re=e[35];let De;e[36]===Symbol.for("react.memo_cache_sentinel")?(De=y.jsx(dt,{span:12,children:y.jsx(Se.Item,{label:"Issued Date",name:"issued_at",rules:Re,children:y.jsx(pr,{style:{width:"100%"},format:"DD/MM/YYYY",size:"large"})})}),e[36]=De):De=e[36];let Ee;e[37]===Symbol.for("react.memo_cache_sentinel")?(Ee=[{required:!0,message:"Required!"}],e[37]=Ee):Ee=e[37];let Z;e[38]===Symbol.for("react.memo_cache_sentinel")?(Z=y.jsx(Ze.Option,{value:"learning",children:y.jsxs(ot,{children:[y.jsx(yr,{style:{color:"#1890ff"}}),"Learning / Course"]})}),e[38]=Z):Z=e[38];let he;e[39]===Symbol.for("react.memo_cache_sentinel")?(he=y.jsxs(wt,{gutter:16,children:[De,y.jsx(dt,{span:12,children:y.jsx(Se.Item,{label:"Category",name:"category",rules:Ee,children:y.jsxs(Ze,{size:"large",placeholder:"Select category",children:[Z,y.jsx(Ze.Option,{value:"competition",children:y.jsxs(ot,{children:[y.jsx(Er,{style:{color:"#faad14"}}),"Competition / Award"]})})]})})})]}),e[39]=he):he=e[39];let ge;e[40]===Symbol.for("react.memo_cache_sentinel")?(ge=y.jsx(Se.Item,{label:"Credential ID (Optional)",name:"credential_id",extra:"Certificate number, e.g., 1OP8WOGE2XQK",children:y.jsx(rt,{placeholder:"1OP8WOGE2XQK"})}),e[40]=ge):ge=e[40];let je;e[41]===Symbol.for("react.memo_cache_sentinel")?(je=y.jsx(Se.Item,{label:"Credential URL (Optional)",name:"credential_url",extra:"Link to official verification",children:y.jsx(rt,{prefix:y.jsx(Pr,{}),placeholder:"https://www.dicoding.com/certificates/..."})}),e[41]=je):je=e[41];let T;e[42]!==z?(T=$=>y.jsxs(y.Fragment,{children:[$,y.jsx("div",{style:{padding:8,borderTop:"1px solid #f0f0f0"},children:y.jsx(gt,{type:"dashed",block:!0,icon:y.jsx(Tr,{}),onClick:z,children:"Create New Tag"})})]}),e[42]=z,e[43]=T):T=e[43];let te,Ce;e[44]!==p?(te=$=>{const R=p.find(G=>G.value===$.value);return y.jsx(lt,{color:R?.color||"#1890ff",closable:$.closable,onClose:$.onClose,style:{marginRight:3},children:$.label})},Ce=p.map(Jo),e[44]=p,e[45]=te,e[46]=Ce):(te=e[45],Ce=e[46]);let ne;e[47]!==c||e[48]!==T||e[49]!==te||e[50]!==Ce?(ne=y.jsxs(dt,{xs:24,lg:16,children:[Q,ce,he,ge,je,y.jsx(Se.Item,{label:"Tags",name:"tags",children:y.jsx(Ze,{mode:"multiple",placeholder:"Select or create tags",size:"large",value:c,onChange:C,dropdownRender:T,tagRender:te,children:Ce})})]}),e[47]=c,e[48]=T,e[49]=te,e[50]=Ce,e[51]=ne):ne=e[51];let xe;e[52]===Symbol.for("react.memo_cache_sentinel")?(xe=y.jsx("span",{children:"Certificate File"}),e[52]=xe):xe=e[52];let q;e[53]!==g?(q=y.jsxs(ot,{children:[xe,g==="pdf"?y.jsx(lt,{icon:y.jsx(Dt,{}),color:"error",children:"PDF"}):y.jsx(lt,{icon:y.jsx(Br,{}),color:"blue",children:"Image"})]}),e[53]=g,e[54]=q):q=e[54];let fe;e[55]===Symbol.for("react.memo_cache_sentinel")?(fe=()=>{i(null),d(null),x("image")},e[55]=fe):fe=e[55];let ve;e[56]===Symbol.for("react.memo_cache_sentinel")?(ve=y.jsx(hr,{listType:"picture",maxCount:1,beforeUpload:Qo,onChange:J,onRemove:fe,accept:"image/jpeg,image/jpg,image/png,image/webp,application/pdf",children:y.jsx(gt,{icon:y.jsx(Ar,{}),block:!0,children:"Upload Certificate"})}),e[56]=ve):ve=e[56];let X;e[57]!==oe?(X=oe(),e[57]=oe,e[58]=X):X=e[58];let be;e[59]!==q||e[60]!==X?(be=y.jsx(dt,{xs:24,lg:8,children:y.jsxs(Se.Item,{label:q,extra:"JPG, PNG, WEBP (max 5MB) or PDF (max 10MB)",children:[ve,X]})}),e[59]=q,e[60]=X,e[61]=be):be=e[61];let $e;e[62]!==ne||e[63]!==be?($e=y.jsxs(wt,{gutter:24,children:[ne,be]}),e[62]=ne,e[63]=be,e[64]=$e):$e=e[64];let Te;e[65]===Symbol.for("react.memo_cache_sentinel")?(Te={marginTop:24},e[65]=Te):Te=e[65];let ze;e[66]===Symbol.for("react.memo_cache_sentinel")?(ze=y.jsx(Cr,{}),e[66]=ze):ze=e[66];const Be=t==="create"?"Create Certificate":"Update Certificate";let Ie;e[67]!==N||e[68]!==Be?(Ie=y.jsx(gt,{type:"primary",htmlType:"submit",icon:ze,loading:N,size:"large",children:Be}),e[67]=N,e[68]=Be,e[69]=Ie):Ie=e[69];let Ve;e[70]===Symbol.for("react.memo_cache_sentinel")?(Ve=y.jsx(gt,{icon:y.jsx(_r,{}),onClick:Ko,size:"large",children:"Back to List"}),e[70]=Ve):Ve=e[70];let Ne;e[71]!==Ie?(Ne=y.jsx(Se.Item,{style:Te,children:y.jsxs(ot,{children:[Ie,Ve]})}),e[71]=Ie,e[72]=Ne):Ne=e[72];let we;e[73]!==a||e[74]!==K||e[75]!==$e||e[76]!==Ne?(we=y.jsx(Mt,{children:y.jsxs(Se,{form:a,layout:"vertical",onFinish:K,initialValues:ie,children:[$e,Ne]})}),e[73]=a,e[74]=K,e[75]=$e,e[76]=Ne,e[77]=we):we=e[77];let Ae;e[78]===Symbol.for("react.memo_cache_sentinel")?(Ae=()=>S(!1),e[78]=Ae):Ae=e[78];let qe;e[79]===Symbol.for("react.memo_cache_sentinel")?(qe=y.jsx(Se.Item,{label:"Tag Name",name:"name",rules:[{required:!0,message:"Required!"}],children:y.jsx(rt,{placeholder:"e.g., AI, Machine Learning"})}),e[79]=qe):qe=e[79];let _e;e[80]===Symbol.for("react.memo_cache_sentinel")?(_e=$=>D($.toHexString()),e[80]=_e):_e=e[80];let He;e[81]!==w?(He=y.jsx(Pt,{value:w,onChange:_e,showText:!0}),e[81]=w,e[82]=He):He=e[82];let Le;e[83]===Symbol.for("react.memo_cache_sentinel")?(Le={marginTop:8},e[83]=Le):Le=e[83];let ye;e[84]!==w?(ye=y.jsx("div",{style:Le,children:y.jsx(lt,{color:w,children:"Preview Tag"})}),e[84]=w,e[85]=ye):ye=e[85];let ke;e[86]!==He||e[87]!==ye?(ke=y.jsxs(Se.Item,{label:"Tag Color",children:[He,ye]}),e[86]=He,e[87]=ye,e[88]=ke):ke=e[88];let W;e[89]!==P||e[90]!==ke?(W=y.jsxs(Se,{form:P,layout:"vertical",children:[qe,ke]}),e[89]=P,e[90]=ke,e[91]=W):W=e[91];let pe;e[92]!==Y||e[93]!==Pe||e[94]!==E||e[95]!==W?(pe=y.jsx(Qr,{title:"Create New Tag",open:E,onOk:Pe,onCancel:Ae,okText:"Create",confirmLoading:Y,children:W}),e[92]=Y,e[93]=Pe,e[94]=E,e[95]=W,e[96]=pe):pe=e[96];let M;return e[97]!==ue||e[98]!==we||e[99]!==pe?(M=y.jsxs(Sr,{header:ue,children:[we,pe]}),e[97]=ue,e[98]=we,e[99]=pe,e[100]=M):M=e[100],M}function Ko(){return nt.visit(at("admin.certificate.index"))}function Qo(){return!1}function Jo(e){return y.jsx(Ze.Option,{value:e.value,children:y.jsx(lt,{color:e.color,children:e.label})},e.value)}function Zo(){return Ye.error("Failed to save certificate!")}function en(e){Ye.error(Object.values(e).flat()[0]||"Failed to create tag!")}export{zn as default};
