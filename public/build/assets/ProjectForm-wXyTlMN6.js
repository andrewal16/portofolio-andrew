import{a as p,c as Ke,u as Xe,b as Ze,j as t,r as Ue,s as Be}from"./app-B6r_TxPj.js";import{U as et,D as Ge,d as Ee,R as tt}from"./index--LWtAOuq.js";import{A as lt}from"./app-layout-D7rl8n8V.js";import{F as i,I as T,C as fe,R as He}from"./index-Ca7wppxU.js";import{R as at}from"./LinkOutlined-D_y8xWvx.js";import{S as ge}from"./index-BNOpb2lg.js";import{R as st}from"./GlobalOutlined-CwwlfeD_.js";import{C as he}from"./index-DbKJ5h10.js";import{R as ot}from"./GithubOutlined-BZKrYF0U.js";import{S as I,T as rt}from"./index-BZ9BXEnJ.js";import{T as ke}from"./index-y3Adf1Mc.js";import{s as Je}from"./index-B-0cTeuO.js";import{B as Me}from"./ContextIsolator-Bw6ExzQV.js";import{R as nt}from"./ArrowLeftOutlined-4PfLy0gN.js";import{R as it}from"./AppstoreOutlined-CJkJhCkn.js";import{I as Ye}from"./AntdIcon-CfDRJjfZ.js";import{R as ct}from"./DeleteOutlined-D-hRQ3sF.js";import{D as mt}from"./index-BLHpURQ3.js";import"./app-CbEWB9i-.js";import"./SafetyCertificateOutlined-DbWOw5Tm.js";import"./render-DbXmZ5EJ.js";import"./CalendarOutlined-Cyrma7M4.js";import"./ClockCircleOutlined-WFYb_qpz.js";import"./DownloadOutlined-BGhvxt2-.js";import"./EyeOutlined-CM2hfqon.js";import"./InfoCircleFilled-CRePx94_.js";import"./CheckOutlined-0PrG8dNn.js";import"./CloseOutlined-CdTwbbfa.js";import"./RocketOutlined-DIEW3gEz.js";import"./Input-DAOptVL4.js";import"./index-DfbFVuiC.js";import"./SearchOutlined-WRgWSdTL.js";import"./Skeleton-BCZumm4n.js";import"./PlusOutlined-BILouNqv.js";import"./useClosable-BnFp-AKn.js";var dt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"};function Ve(){return Ve=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(e[m]=l[m])}return e},Ve.apply(this,arguments)}const pt=(e,s)=>p.createElement(Ye,Ve({},e,{ref:s,icon:dt})),qe=p.forwardRef(pt);var ut={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M483.2 790.3L861.4 412c1.7-1.7 2.5-4 2.3-6.3l-25.5-301.4c-.7-7.8-6.8-13.9-14.6-14.6L522.2 64.3c-2.3-.2-4.7.6-6.3 2.3L137.7 444.8a8.03 8.03 0 000 11.3l334.2 334.2c3.1 3.2 8.2 3.2 11.3 0zm62.6-651.7l224.6 19 19 224.6L477.5 694 233.9 450.5l311.9-311.9zm60.16 186.23a48 48 0 1067.88-67.89 48 48 0 10-67.88 67.89zM889.7 539.8l-39.6-39.5a8.03 8.03 0 00-11.3 0l-362 361.3-237.6-237a8.03 8.03 0 00-11.3 0l-39.6 39.5a8.03 8.03 0 000 11.3l243.2 242.8 39.6 39.5c3.1 3.1 8.2 3.1 11.3 0l407.3-406.6c3.1-3.1 3.1-8.2 0-11.3z"}}]},name:"tags",theme:"outlined"};function $e(){return $e=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var l=arguments[s];for(var m in l)Object.prototype.hasOwnProperty.call(l,m)&&(e[m]=l[m])}return e},$e.apply(this,arguments)}const ft=(e,s)=>p.createElement(Ye,$e({},e,{ref:s,icon:ut})),ht=p.forwardRef(ft),{TextArea:gt}=T,{Dragger:bt}=et,{Title:xt,Text:jt}=rt,yt=["React","Vue.js","Angular","Next.js","Nuxt.js","Laravel","Node.js","Express","NestJS","Django","PHP","Python","JavaScript","TypeScript","Java","MySQL","PostgreSQL","MongoDB","Redis","Firebase","Docker","Kubernetes","AWS","Azure","Google Cloud","Tailwind CSS","Bootstrap","Material-UI","Ant Design","Git","GitHub","GitLab","CI/CD","REST API","GraphQL"],Qe=[{value:"Web App",label:"Web Application",color:"blue"},{value:"Mobile",label:"Mobile App",color:"green"},{value:"Data Science",label:"Data Science",color:"purple"},{value:"AI",label:"AI / Machine Learning",color:"magenta"},{value:"Desktop",label:"Desktop App",color:"cyan"},{value:"API",label:"API / Backend",color:"orange"},{value:"Game",label:"Game Development",color:"red"},{value:"IoT",label:"IoT / Embedded",color:"geekblue"}],_t={React:"blue","Vue.js":"green",Laravel:"red","Node.js":"green",TypeScript:"blue",PHP:"purple",Python:"yellow",MySQL:"orange",Docker:"cyan",AWS:"orange"};function ml(){const e=Ke.c(100),{typeForm:s,project:l,availableTypes:m,errors:u,flash:N}=Xe().props,[o]=i.useForm(),[P,ze]=p.useState(null),[D,be]=p.useState(l?.thumbnail_url||null),xe=l?.title||"",je=l?.slug||"",ye=l?.excerpt||"",_e=l?.demo_url||"",Se=l?.repo_url||"",ve=l?.started_at||null,Re=l?.finished_at||null,we=l?.status||"ongoing",Ce=l?.type||"";let O;e[0]===Symbol.for("react.memo_cache_sentinel")?(O=[],e[0]=O):O=e[0];let L;e[1]!==xe||e[2]!==je||e[3]!==ye||e[4]!==_e||e[5]!==Se||e[6]!==ve||e[7]!==Re||e[8]!==we||e[9]!==Ce?(L={title:xe,slug:je,excerpt:ye,thumbnail:null,demo_url:_e,repo_url:Se,started_at:ve,finished_at:Re,status:we,type:Ce,technologies:O},e[1]=xe,e[2]=je,e[3]=ye,e[4]=_e,e[5]=Se,e[6]=ve,e[7]=Re,e[8]=we,e[9]=Ce,e[10]=L):L=e[10];const{setData:c,processing:Ie}=Ze(L);let F,A;e[11]!==o||e[12]!==l||e[13]!==s?(F=()=>{if(s==="edit"&&l){let a=[];if(Array.isArray(l.technologies))a=l.technologies;else if(typeof l.technologies=="string")try{a=JSON.parse(l.technologies),typeof a=="string"&&(a=JSON.parse(a))}catch{a=[]}o.setFieldsValue({...l,started_at:l.started_at?Ee(l.started_at):null,finished_at:l.finished_at?Ee(l.finished_at):null,technologies:a}),be(l.thumbnail_url)}},A=[s,l,o],e[11]=o,e[12]=l,e[13]=s,e[14]=F,e[15]=A):(F=e[14],A=e[15]),p.useEffect(F,A);let E,M;e[16]!==u||e[17]!==N||e[18]!==o?(E=()=>{if(N?.success&&Je.success(N.success),u&&Object.keys(u).length>0){Je.error("Please check your inputs.");const a=Object.keys(u).map(r=>({name:r,errors:[u[r]]}));o.setFields(a)}},M=[N,u,o],e[16]=u,e[17]=N,e[18]=o,e[19]=E,e[20]=M):(E=e[19],M=e[20]),p.useEffect(E,M);let U;e[21]!==c?(U=a=>{Object.keys(a).forEach(r=>{c(r,a[r])})},e[21]=c,e[22]=U):U=e[22];const Ne=U;let B;e[23]!==c?(B=a=>{const r=a.file.originFileObj||a.file;if(!r)return;const d=new FileReader;d.onload=n=>be(n.target.result),d.readAsDataURL(r),ze(r),c("thumbnail",r)},e[23]=c,e[24]=B):B=e[24];const Te=B;let V;e[25]!==c?(V=a=>{a.stopPropagation(),ze(null),be(null),c("thumbnail",null)},e[25]=c,e[26]=V):V=e[26];const Pe=V;let $;e[27]!==o||e[28]!==c||e[29]!==s?($=a=>{const r=a.target.value;if(s==="create"||!o.getFieldValue("slug")){const d=r.toLowerCase().replace(/ /g,"-").replace(/[^\w-]+/g,"");o.setFieldsValue({slug:d}),c("slug",d)}},e[27]=o,e[28]=c,e[29]=s,e[30]=$):$=e[30];const De=$;let z;e[31]!==o||e[32]!==l||e[33]!==P||e[34]!==s?(z=a=>{const r=new FormData;Object.keys(a).forEach(n=>{if(n==="started_at"||n==="finished_at")a[n]&&r.append(n,Ee(a[n]).format("YYYY-MM-DD"));else if(n==="technologies"){const We=a[n]||[];r.append(n,JSON.stringify(We))}else a[n]!==void 0&&a[n]!==null&&r.append(n,a[n])}),P&&r.append("thumbnail",P);const d={forceFormData:!0,onSuccess:()=>{s==="create"&&o.resetFields()}};s==="create"?Ue.post(Be("admin.project.store"),r,d):(r.append("_method","PUT"),Ue.post(Be("admin.project.update",l.slug),r,d))},e[31]=o,e[32]=l,e[33]=P,e[34]=s,e[35]=z):z=e[35];const Oe=z;let G;e[36]!==m?(G=[...Qe,...(m||[]).filter(Nt).map(It)],e[36]=m,e[37]=G):G=e[37];const Le=G,Fe=s==="create"?"Create Project":"Edit Project";let H;e[38]===Symbol.for("react.memo_cache_sentinel")?(H={status:"ongoing",technologies:[]},e[38]=H):H=e[38];let J;e[39]===Symbol.for("react.memo_cache_sentinel")?(J=t.jsx(Me,{icon:t.jsx(nt,{}),onClick:Ct,children:"Back"}),e[39]=J):J=e[39];let q;e[40]===Symbol.for("react.memo_cache_sentinel")?(q=t.jsx(tt,{}),e[40]=q):q=e[40];const Ae=s==="create"?"Publish Project":"Save Changes";let f;e[41]!==Ie||e[42]!==Ae?(f=t.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[J,t.jsx(Me,{type:"primary",htmlType:"submit",icon:q,loading:Ie,size:"large",children:Ae})]}),e[41]=Ie,e[42]=Ae,e[43]=f):f=e[43];let k;e[44]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(xt,{level:5,className:"mb-4",children:"Project Details"}),e[44]=k):k=e[44];let Y;e[45]===Symbol.for("react.memo_cache_sentinel")?(Y=[{required:!0,message:"Required"}],e[45]=Y):Y=e[45];let h;e[46]!==De?(h=t.jsx(i.Item,{label:"Title",name:"title",rules:Y,children:t.jsx(T,{size:"large",placeholder:"Enter project name",onChange:De})}),e[46]=De,e[47]=h):h=e[47];let Q;e[48]===Symbol.for("react.memo_cache_sentinel")?(Q=t.jsx(i.Item,{label:"Slug",name:"slug",extra:"URL friendly name (auto-generated)",children:t.jsx(T,{prefix:t.jsx(at,{className:"text-gray-300"})})}),e[48]=Q):Q=e[48];let W;e[49]===Symbol.for("react.memo_cache_sentinel")?(W=t.jsx(i.Item,{label:"Description / Excerpt",name:"excerpt",rules:[{required:!0,message:"Required"}],children:t.jsx(gt,{rows:6,placeholder:"Tell the story about this project...",showCount:!0,maxLength:500})}),e[49]=W):W=e[49];let K;e[50]===Symbol.for("react.memo_cache_sentinel")?(K=t.jsxs(I,{children:[t.jsx(it,{}),t.jsx("span",{children:"Project Type"})]}),e[50]=K):K=e[50];let X,Z;e[51]===Symbol.for("react.memo_cache_sentinel")?(X=[","],Z={width:"100%"},e[51]=X,e[52]=Z):(X=e[51],Z=e[52]);let g,b;e[53]!==o?(g=a=>{const r=a.length>0?a[a.length-1]:"";o.setFieldValue("type",r)},b=o.getFieldValue("type")?[o.getFieldValue("type")]:[],e[53]=o,e[54]=g,e[55]=b):(g=e[54],b=e[55]);let x;e[56]!==Le?(x=Le.map(wt),e[56]=Le,e[57]=x):x=e[57];let j;e[58]!==g||e[59]!==b||e[60]!==x?(j=t.jsx(i.Item,{label:K,name:"type",extra:"Select or type a custom category for filtering",children:t.jsx(ge,{size:"large",placeholder:"Select or enter project type",mode:"tags",maxCount:1,tokenSeparators:X,style:Z,onChange:g,value:b,children:x})}),e[58]=g,e[59]=b,e[60]=x,e[61]=j):j=e[61];let ee;e[62]===Symbol.for("react.memo_cache_sentinel")?(ee=t.jsxs(I,{children:[t.jsx(ht,{}),t.jsx("span",{children:"Technologies Used"})]}),e[62]=ee):ee=e[62];let te;e[63]===Symbol.for("react.memo_cache_sentinel")?(te=t.jsx(i.Item,{label:ee,name:"technologies",children:t.jsx(ge,{mode:"tags",size:"large",placeholder:"e.g., React, Laravel...",style:{width:"100%"},tokenSeparators:[","],options:yt.map(Rt),tagRender:vt})}),e[63]=te):te=e[63];let y;e[64]!==h||e[65]!==j?(y=t.jsxs(he,{className:"!mb-6 shadow-sm",bordered:!1,children:[k,h,Q,W,j,te]}),e[64]=h,e[65]=j,e[66]=y):y=e[66];let le;e[67]===Symbol.for("react.memo_cache_sentinel")?(le=t.jsx(fe,{span:12,children:t.jsx(i.Item,{label:"Demo URL",name:"demo_url",children:t.jsx(T,{prefix:t.jsx(st,{className:"text-gray-400"}),placeholder:"https://..."})})}),e[67]=le):le=e[67];let ae;e[68]===Symbol.for("react.memo_cache_sentinel")?(ae=t.jsx(he,{className:"shadow-sm",bordered:!1,title:"External Links",children:t.jsxs(He,{gutter:16,children:[le,t.jsx(fe,{span:12,children:t.jsx(i.Item,{label:"Repository URL",name:"repo_url",children:t.jsx(T,{prefix:t.jsx(ot,{className:"text-gray-400"}),placeholder:"https://github.com/..."})})})]})}),e[68]=ae):ae=e[68];let _;e[69]!==y?(_=t.jsxs(fe,{xs:24,lg:16,children:[y,ae]}),e[69]=y,e[70]=_):_=e[70];let se;e[71]===Symbol.for("react.memo_cache_sentinel")?(se={padding:"0px",overflow:"hidden"},e[71]=se):se=e[71];let S;e[72]!==Pe||e[73]!==D?(S=D?t.jsxs("div",{className:"group relative flex h-64 w-full items-center justify-center overflow-hidden bg-gray-100",children:[t.jsx("img",{src:D,alt:"thumbnail",className:"h-full w-full object-cover"}),t.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center bg-black/50 opacity-0 transition-opacity group-hover:opacity-100",children:[t.jsx(qe,{className:"mb-2 text-3xl text-white"}),t.jsx(jt,{className:"text-white",children:"Click to Change"}),t.jsx(Me,{type:"text",danger:!0,icon:t.jsx(ct,{}),className:"mt-4 bg-white/10 text-white",onClick:Pe,children:"Remove"})]})]}):t.jsxs("div",{className:"px-4 py-12",children:[t.jsx("p",{className:"ant-upload-drag-icon",children:t.jsx(qe,{style:{color:"#4096ff"}})}),t.jsx("p",{className:"ant-upload-text",children:"Click or drag file to upload"}),t.jsx("p",{className:"ant-upload-hint text-xs text-gray-400",children:"Recommended: 1200x630px, Max 2MB"})]}),e[72]=Pe,e[73]=D,e[74]=S):S=e[74];let v;e[75]!==Te||e[76]!==S?(v=t.jsx(he,{className:"!mb-6 shadow-sm",bordered:!1,title:"Thumbnail",children:t.jsx(i.Item,{name:"thumbnail",noStyle:!0,children:t.jsx(bt,{name:"thumbnail",multiple:!1,showUploadList:!1,beforeUpload:St,onChange:Te,accept:"image/png, image/jpeg, image/jpg, image/webp",style:se,children:S})})}),e[75]=Te,e[76]=S,e[77]=v):v=e[77];let oe;e[78]===Symbol.for("react.memo_cache_sentinel")?(oe=[{required:!0}],e[78]=oe):oe=e[78];let re;e[79]===Symbol.for("react.memo_cache_sentinel")?(re={value:"ongoing",label:t.jsxs(I,{children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-blue-500"}),"Ongoing"]})},e[79]=re):re=e[79];let ne;e[80]===Symbol.for("react.memo_cache_sentinel")?(ne={value:"completed",label:t.jsxs(I,{children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"}),"Completed"]})},e[80]=ne):ne=e[80];let ie;e[81]===Symbol.for("react.memo_cache_sentinel")?(ie=t.jsx(i.Item,{label:"Status",name:"status",rules:oe,children:t.jsx(ge,{options:[re,ne,{value:"upcoming",label:t.jsxs(I,{children:[t.jsx("div",{className:"h-2 w-2 rounded-full bg-orange-500"}),"Upcoming"]})}]})}),e[81]=ie):ie=e[81];let ce;e[82]===Symbol.for("react.memo_cache_sentinel")?(ce=t.jsx(mt,{style:{margin:"12px 0"}}),e[82]=ce):ce=e[82];let me;e[83]===Symbol.for("react.memo_cache_sentinel")?(me={marginBottom:0},e[83]=me):me=e[83];let de;e[84]===Symbol.for("react.memo_cache_sentinel")?(de=t.jsx(i.Item,{name:"started_at",style:{marginBottom:8},children:t.jsx(Ge,{className:"w-full",placeholder:"Start Date"})}),e[84]=de):de=e[84];let pe;e[85]===Symbol.for("react.memo_cache_sentinel")?(pe=t.jsxs(he,{className:"!mb-6 shadow-sm",bordered:!1,title:"Publishing",children:[ie,ce,t.jsx(i.Item,{label:"Timeline",style:me,children:t.jsxs(I,{direction:"vertical",className:"w-full",children:[de,t.jsx(i.Item,{name:"finished_at",style:{marginBottom:0},children:t.jsx(Ge,{className:"w-full",placeholder:"Finish Date (Optional)"})})]})})]}),e[85]=pe):pe=e[85];let R;e[86]!==v?(R=t.jsxs(fe,{xs:24,lg:8,children:[v,pe]}),e[86]=v,e[87]=R):R=e[87];let w;e[88]!==_||e[89]!==R?(w=t.jsxs(He,{gutter:24,align:"top",className:"!pb-3",children:[_,R]}),e[88]=_,e[89]=R,e[90]=w):w=e[90];let C;e[91]!==o||e[92]!==Oe||e[93]!==Ne||e[94]!==f||e[95]!==w?(C=t.jsxs(i,{form:o,layout:"vertical",onFinish:Oe,onValuesChange:Ne,initialValues:H,requiredMark:"optional",children:[f,w]}),e[91]=o,e[92]=Oe,e[93]=Ne,e[94]=f,e[95]=w,e[96]=C):C=e[96];let ue;return e[97]!==Fe||e[98]!==C?(ue=t.jsx(lt,{header:Fe,children:C}),e[97]=Fe,e[98]=C,e[99]=ue):ue=e[99],ue}function St(){return!1}function vt(e){return t.jsx(ke,{color:_t[e.value]||"blue",closable:e.closable,onClose:e.onClose,style:{marginRight:3},children:e.label})}function Rt(e){return{label:e,value:e}}function wt(e){return t.jsx(ge.Option,{value:e.value,children:t.jsx(ke,{color:e.color,children:e.label})},e.value)}function Ct(){return Ue.visit(Be("admin.project.index"))}function It(e){return{value:e,label:e,color:"default"}}function Nt(e){return!Qe.find(s=>s.value===e)}export{ml as default};
