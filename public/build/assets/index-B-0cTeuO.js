import{h as be,p as ke,K as $e,f as Pe,I as Oe,g as Re,m as Ae,A as ae,r as Me,J as we,b as pe,E as de,c as ge,z as Ie,R as Te,n as Fe,L as V,M as Le,N as Ke,e as ye,O as De,i as He,P as je,F as _e,C as Ue,Q as Ge}from"./render-DbXmZ5EJ.js";import{a as o,R}from"./app-B6r_TxPj.js";import{R as We,b as ze,a as Xe}from"./InfoCircleFilled-CRePx94_.js";import{c as M}from"./AntdIcon-CfDRJjfZ.js";const Z="add",ee="keep",te="remove",J="removed";function Ve(t){let e;return t&&typeof t=="object"&&"key"in t?e=t:e={key:t},{...e,key:String(e.key)}}function ne(t=[]){return t.map(Ve)}function Be(t=[],e=[]){let n=[],s=0;const r=e.length,c=ne(t),g=ne(e);c.forEach(i=>{let m=!1;for(let l=s;l<r;l+=1){const E=g[l];if(E.key===i.key){s<l&&(n=n.concat(g.slice(s,l).map(h=>({...h,status:Z}))),s=l),n.push({...E,status:ee}),s+=1,m=!0;break}}m||n.push({...i,status:te})}),s<r&&(n=n.concat(g.slice(s).map(i=>({...i,status:Z}))));const p={};return n.forEach(({key:i})=>{p[i]=(p[i]||0)+1}),Object.keys(p).filter(i=>p[i]>1).forEach(i=>{n=n.filter(({key:m,status:l})=>m!==i||l!==te),n.forEach(m=>{m.key===i&&(m.status=ee)})}),n}function se(){return se=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},se.apply(this,arguments)}const Qe=["eventProps","visible","children","motionName","motionAppear","motionEnter","motionLeave","motionLeaveImmediately","motionDeadline","removeOnLeave","leavedClassName","onAppearPrepare","onAppearStart","onAppearActive","onAppearEnd","onEnterStart","onEnterActive","onEnterEnd","onLeaveStart","onLeaveActive","onLeaveEnd"];function Ye(t,e=be){class n extends o.Component{static defaultProps={component:"div"};state={keyEntities:[]};static getDerivedStateFromProps({keys:r},{keyEntities:c}){const g=ne(r);return{keyEntities:Be(c,g).filter(y=>{const i=c.find(({key:m})=>y.key===m);return!(i&&i.status===J&&y.status===te)})}}removeKey=r=>{this.setState(c=>({keyEntities:c.keyEntities.map(p=>p.key!==r?p:{...p,status:J})}),()=>{const{keyEntities:c}=this.state;c.filter(({status:p})=>p!==J).length===0&&this.props.onAllRemoved&&this.props.onAllRemoved()})};render(){const{keyEntities:r}=this.state,{component:c,children:g,onVisibleChanged:p,onAllRemoved:y,...i}=this.props,m=c||o.Fragment,l={};return Qe.forEach(E=>{l[E]=i[E],delete i[E]}),delete i.keys,o.createElement(m,i,r.map(({status:E,...h},v)=>{const C=E===Z||E===ee;return o.createElement(e,se({},l,{key:h.key,visible:C,eventProps:h,onVisibleChanged:d=>{p?.(d,{key:h.key}),d||this.removeKey(h.key)}}),(d,x)=>g({...d,index:v},x))}))}}return n}const qe=Ye();function B(){return B=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},B.apply(this,arguments)}const Ce=o.forwardRef((t,e)=>{const{prefixCls:n,style:s,className:r,duration:c=4.5,showProgress:g,pauseOnHover:p=!0,eventKey:y,content:i,closable:m,props:l,onClick:E,onNoticeClose:h,times:v,hovering:C}=t,[d,x]=o.useState(!1),[S,u]=o.useState(0),[f,a]=o.useState(0),k=C||d,N=typeof c=="number"?c:0,P=N>0&&g,A=()=>{h(y)},G=$=>{($.key==="Enter"||$.code==="Enter"||$.keyCode===$e.ENTER)&&A()};o.useEffect(()=>{if(!k&&N>0){const $=Date.now()-f,I=setTimeout(()=>{A()},N*1e3-f);return()=>{p&&clearTimeout(I),a(Date.now()-$)}}},[N,k,v]),o.useEffect(()=>{if(!k&&P&&(p||f===0)){const $=performance.now();let I;const K=()=>{cancelAnimationFrame(I),I=requestAnimationFrame(_=>{const U=_+f-$,T=Math.min(U/(N*1e3),1);u(T*100),T<1&&K()})};return K(),()=>{p&&cancelAnimationFrame(I)}}},[N,f,k,P,v]);const j=o.useMemo(()=>typeof m=="object"&&m!==null?m:{},[m]),L=ke(j,!0),w=100-(!S||S<0?0:S>100?100:S),b=`${n}-notice`;return o.createElement("div",B({},l,{ref:e,className:M(b,r,{[`${b}-closable`]:m}),style:s,onMouseEnter:$=>{x(!0),l?.onMouseEnter?.($)},onMouseLeave:$=>{x(!1),l?.onMouseLeave?.($)},onClick:E}),o.createElement("div",{className:`${b}-content`},i),m&&o.createElement("button",B({className:`${b}-close`,onKeyDown:G,"aria-label":"Close"},L,{onClick:$=>{$.preventDefault(),$.stopPropagation(),A()}}),j.closeIcon??"x"),P&&o.createElement("progress",{className:`${b}-progress`,max:"100",value:w},w+"%"))}),he=R.createContext({}),Je=({children:t,classNames:e})=>R.createElement(he.Provider,{value:{classNames:e}},t),ce=8,ie=3,le=16,Ze=t=>{const e={offset:ce,threshold:ie,gap:le};return t&&typeof t=="object"&&(e.offset=t.offset??ce,e.threshold=t.threshold??ie,e.gap=t.gap??le),[!!t,e]};function Q(){return Q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Q.apply(this,arguments)}const et=t=>{const{configList:e,placement:n,prefixCls:s,className:r,style:c,motion:g,onAllNoticeRemoved:p,onNoticeClose:y,stack:i}=t,{classNames:m}=o.useContext(he),l=o.useRef({}),[E,h]=o.useState(null),[v,C]=o.useState([]),d=e.map(N=>({config:N,key:String(N.key)})),[x,{offset:S,threshold:u,gap:f}]=Ze(i),a=x&&(v.length>0||d.length<=u),k=typeof g=="function"?g(n):g;return o.useEffect(()=>{x&&v.length>1&&C(N=>N.filter(P=>d.some(({key:A})=>P===A)))},[v,d,x]),o.useEffect(()=>{x&&l.current[d[d.length-1]?.key]&&h(l.current[d[d.length-1]?.key])},[d,x]),R.createElement(qe,Q({key:n,className:M(s,`${s}-${n}`,m?.list,r,{[`${s}-stack`]:!!x,[`${s}-stack-expanded`]:a}),style:c,keys:d,motionAppear:!0},k,{onAllRemoved:()=>{p(n)}}),({config:N,className:P,style:A,index:G},j)=>{const{key:L,times:w}=N,b=String(L),{className:$,style:I,classNames:K,styles:_,...U}=N,T=d.findIndex(O=>O.key===b),F={};if(x){const O=d.length-1-(T>-1?T:G-1),X=n==="top"||n==="bottom"?"-50%":"0";if(O>0){F.height=a?l.current[b]?.offsetHeight:E?.offsetHeight;let re=0;for(let q=0;q<O;q++)re+=l.current[d[d.length-1-q].key]?.offsetHeight+f;const Ne=(a?re:O*S)*(n.startsWith("top")?1:-1),Se=!a&&E?.offsetWidth&&l.current[b]?.offsetWidth?(E?.offsetWidth-S*2*(O<3?O:3))/l.current[b]?.offsetWidth:1;F.transform=`translate3d(${X}, ${Ne}px, 0) scaleX(${Se})`}else F.transform=`translate3d(${X}, 0, 0)`}return R.createElement("div",{ref:j,className:M(`${s}-notice-wrapper`,P,K?.wrapper),style:{...A,...F,..._?.wrapper},onMouseEnter:()=>C(O=>O.includes(b)?O:[...O,b]),onMouseLeave:()=>C(O=>O.filter(X=>X!==b))},R.createElement(Ce,Q({},U,{ref:O=>{T>-1?l.current[b]=O:delete l.current[b]},prefixCls:s,classNames:K,styles:_,className:M($,m?.notice),style:I,times:w,key:L,eventKey:L,onNoticeClose:y,hovering:x&&v.length>0})))})},tt=o.forwardRef((t,e)=>{const{prefixCls:n="rc-notification",container:s,motion:r,maxCount:c,className:g,style:p,onAllRemoved:y,stack:i,renderNotifications:m}=t,[l,E]=o.useState([]),h=u=>{const f=l.find(P=>P.key===u),a=f?.closable,k=a&&typeof a=="object"?a:{},{onClose:N}=k;N?.(),f?.onClose?.(),E(P=>P.filter(A=>A.key!==u))};o.useImperativeHandle(e,()=>({open:u=>{E(f=>{let a=[...f];const k=a.findIndex(P=>P.key===u.key),N={...u};return k>=0?(N.times=(f[k]?.times||0)+1,a[k]=N):(N.times=0,a.push(N)),c>0&&a.length>c&&(a=a.slice(-c)),a})},close:u=>{h(u)},destroy:()=>{E([])}}));const[v,C]=o.useState({});o.useEffect(()=>{const u={};l.forEach(f=>{const{placement:a="topRight"}=f;a&&(u[a]=u[a]||[],u[a].push(f))}),Object.keys(v).forEach(f=>{u[f]=u[f]||[]}),C(u)},[l]);const d=u=>{C(f=>{const a={...f};return(a[u]||[]).length||delete a[u],a})},x=o.useRef(!1);if(o.useEffect(()=>{Object.keys(v).length>0?x.current=!0:x.current&&(y?.(),x.current=!1)},[v]),!s)return null;const S=Object.keys(v);return Pe.createPortal(o.createElement(o.Fragment,null,S.map(u=>{const f=v[u],a=o.createElement(et,{key:u,configList:f,placement:u,prefixCls:n,className:g?.(u),style:p?.(u),motion:r,onNoticeClose:h,onAllNoticeRemoved:d,stack:i});return m?m(a,{prefixCls:n,key:u}):a})),s)}),nt=()=>document.body;let me=0;function st(...t){const e={};return t.forEach(n=>{n&&Object.keys(n).forEach(s=>{const r=n[s];r!==void 0&&(e[s]=r)})}),e}function ot(t={}){const{getContainer:e=nt,motion:n,prefixCls:s,maxCount:r,className:c,style:g,onAllRemoved:p,stack:y,renderNotifications:i,...m}=t,[l,E]=o.useState(),h=o.useRef(),v=o.createElement(tt,{container:l,ref:h,prefixCls:s,motion:n,maxCount:r,className:c,style:g,onAllRemoved:p,stack:y,renderNotifications:i}),[C,d]=o.useState([]),x=Oe(u=>{const f=st(m,u);(f.key===null||f.key===void 0)&&(f.key=`rc-notification-${me}`,me+=1),d(a=>[...a,{type:"open",config:f}])}),S=o.useMemo(()=>({open:x,close:u=>{d(f=>[...f,{type:"close",key:u}])},destroy:()=>{d(u=>[...u,{type:"destroy"}])}}),[]);return o.useEffect(()=>{E(e())}),o.useEffect(()=>{if(h.current&&C.length){C.forEach(a=>{switch(a.type){case"open":h.current.open(a.config);break;case"close":h.current.close(a.key);break;case"destroy":h.current.destroy();break}});let u,f;d(a=>((u!==a||!f)&&(u=a,f=a.filter(k=>!C.includes(k))),f))}},[C]),[S,v]}const rt=t=>{const{componentCls:e,iconCls:n,boxShadow:s,colorText:r,colorSuccess:c,colorError:g,colorWarning:p,colorInfo:y,fontSizeLG:i,motionEaseInOutCirc:m,motionDurationSlow:l,marginXS:E,paddingXS:h,borderRadiusLG:v,zIndexPopup:C,contentPadding:d,contentBg:x}=t,S=`${e}-notice`,u=new ae("MessageMoveIn",{"0%":{padding:0,transform:"translateY(-100%)",opacity:0},"100%":{padding:h,transform:"translateY(0)",opacity:1}}),f=new ae("MessageMoveOut",{"0%":{maxHeight:t.height,padding:h,opacity:1},"100%":{maxHeight:0,padding:0,opacity:0}}),a={padding:h,textAlign:"center",[`${e}-custom-content`]:{display:"flex",alignItems:"center"},[`${e}-custom-content > ${n}`]:{marginInlineEnd:E,fontSize:i},[`${S}-content`]:{display:"inline-block",padding:d,background:x,borderRadius:v,boxShadow:s,pointerEvents:"all"},[`${e}-success > ${n}`]:{color:c},[`${e}-error > ${n}`]:{color:g},[`${e}-warning > ${n}`]:{color:p},[`${e}-info > ${n},
      ${e}-loading > ${n}`]:{color:y}};return[{[e]:{...Me(t),color:r,position:"fixed",top:E,width:"100%",pointerEvents:"none",zIndex:C,[`${e}-move-up`]:{animationFillMode:"forwards"},[`
        ${e}-move-up-appear,
        ${e}-move-up-enter
      `]:{animationName:u,animationDuration:l,animationPlayState:"paused",animationTimingFunction:m},[`
        ${e}-move-up-appear${e}-move-up-appear-active,
        ${e}-move-up-enter${e}-move-up-enter-active
      `]:{animationPlayState:"running"},[`${e}-move-up-leave`]:{animationName:f,animationDuration:l,animationPlayState:"paused",animationTimingFunction:m},[`${e}-move-up-leave${e}-move-up-leave-active`]:{animationPlayState:"running"},"&-rtl":{direction:"rtl",span:{direction:"rtl"}}}},{[e]:{[`${S}-wrapper`]:{...a}}},{[`${e}-notice-pure-panel`]:{...a,padding:0,textAlign:"start"}}]},at=t=>({zIndexPopup:t.zIndexPopupBase+we+10,contentBg:t.colorBgElevated,contentPadding:`${(t.controlHeightLG-t.fontSize*t.lineHeight)/2}px ${t.paddingSM}px`}),Ee=Re("Message",t=>{const e=Ae(t,{height:150});return rt(e)},at),ct={info:o.createElement(Xe,null),success:o.createElement(ze,null),error:o.createElement(Fe,null),warning:o.createElement(We,null),loading:o.createElement(Te,null)},ve=t=>{const{prefixCls:e,type:n,icon:s,children:r,classNames:c,styles:g}=t,p=s||n&&ct[n],y=Ie(p,i=>{const m={...i?.style,...g?.icon};return{className:M(i.className,c?.icon),style:m}});return o.createElement("div",{className:M(`${e}-custom-content`,`${e}-${n}`)},y,o.createElement("span",{className:c?.content,style:g?.content},r))},it=t=>{const{prefixCls:e,className:n,style:s,type:r,icon:c,content:g,classNames:p,styles:y,...i}=t,{getPrefixCls:m,className:l,style:E,classNames:h,styles:v}=pe("message"),C=e||m("message"),d=de(C),[x,S]=Ee(C,d),[u,f]=ge([h,p],[v,y],{props:t});return o.createElement(Ce,{...i,prefixCls:C,className:M(l,u.root,n,x,`${C}-notice-pure-panel`,S,d),style:{...f.root,...E,...s},eventKey:"pure",duration:null,content:o.createElement(ve,{prefixCls:C,type:r,icon:c,classNames:u,styles:f},g)})};function lt(t,e){return{motionName:e??`${t}-move-up`}}function oe(t){let e;const n=new Promise(r=>{e=t(()=>{r(!0)})}),s=()=>{e?.()};return s.then=(r,c)=>n.then(r,c),s.promise=n,s}const mt=8,ut=3,ft=({children:t,prefixCls:e})=>{const n=de(e),[s,r]=Ee(e,n);return o.createElement(Je,{classNames:{list:M(s,r,n)}},t)},pt=(t,{prefixCls:e,key:n})=>o.createElement(ft,{prefixCls:e,key:n},t),dt=o.forwardRef((t,e)=>{const{top:n,prefixCls:s,getContainer:r,maxCount:c,duration:g=ut,rtl:p,transitionName:y,onAllRemoved:i,pauseOnHover:m=!0}=t,{getPrefixCls:l,direction:E,getPopupContainer:h}=pe("message"),{message:v}=o.useContext(ye),C=s||l("message"),d=()=>({left:"50%",transform:"translateX(-50%)",top:n??mt}),x=()=>M({[`${C}-rtl`]:p??E==="rtl"}),S=()=>lt(C,y),[u,f]=ge([t?.classNames,v?.classNames],[t?.styles,v?.styles],{props:t}),[a,k]=ot({prefixCls:C,style:d,className:x,motion:S,closable:!1,duration:g,getContainer:()=>r?.()||h?.()||document.body,maxCount:c,onAllRemoved:i,renderNotifications:pt,pauseOnHover:m});return o.useImperativeHandle(e,()=>({...a,prefixCls:C,message:v,classNames:u,styles:f})),k});let ue=0;function xe(t){const e=o.useRef(null);return De(),[o.useMemo(()=>{const s=y=>{e.current?.close(y)},r=y=>{if(!e.current){const F=()=>{};return F.then=()=>{},F}const{open:i,prefixCls:m,message:l,classNames:E,styles:h}=e.current,v=l?.className||{},C=l?.style||{},d=l?.classNames||{},x=l?.styles||{},S=`${m}-notice`,{content:u,icon:f,type:a,key:k,className:N,style:P,onClose:A,classNames:G={},styles:j={},...L}=y;let w=k;He(w)||(ue+=1,w=`antd-message-${ue}`);const b={...t,...y},$=V(d,{props:b}),I=V(G,{props:b}),K=V(x,{props:b}),_=V(j,{props:b}),U=Le(void 0,$,I,E),T=Ke(K,_,h);return oe(F=>(i({...L,key:w,content:o.createElement(ve,{prefixCls:m,type:a,icon:f,classNames:U,styles:T},u),placement:"top",className:M({[`${S}-${a}`]:a},N,v,U.root),style:{...T.root,...C,...P},onClose:()=>{A?.(),F()}}),()=>{s(w)}))},g={open:r,destroy:y=>{y!==void 0?s(y):e.current?.destroy()}};return["info","success","warning","error","loading"].forEach(y=>{const i=(m,l,E)=>{let h;m&&typeof m=="object"&&"content"in m?h=m:h={content:m};let v,C;typeof l=="function"?C=l:(v=l,C=E);const d={onClose:C,duration:v,...h,type:y};return r(d)};g[y]=i}),g},[]),o.createElement(dt,{key:"message-holder",...t,ref:e})]}function gt(t){return xe(t)}const yt=R.createContext({});let D=null,H=t=>t(),W=[],z={};function fe(){const{getContainer:t,duration:e,rtl:n,maxCount:s,top:r}=z,c=t?.()||document.body;return{getContainer:()=>c,duration:e,rtl:n,maxCount:s,top:r}}const Ct=R.forwardRef((t,e)=>{const{messageConfig:n,sync:s}=t,{getPrefixCls:r}=o.useContext(ye),c=z.prefixCls||r("message"),g=o.useContext(yt),[p,y]=xe({...n,prefixCls:c,...g.message});return R.useImperativeHandle(e,()=>{const i={...p};return Object.keys(i).forEach(m=>{i[m]=(...l)=>(s(),p[m].apply(p,l))}),{instance:i,sync:s}}),y}),ht=R.forwardRef((t,e)=>{const[n,s]=R.useState(fe),r=()=>{s(fe)};R.useEffect(r,[]);const c=Ge(),g=c.getRootPrefixCls(),p=c.getIconPrefixCls(),y=c.getTheme(),i=R.createElement(Ct,{ref:e,sync:r,messageConfig:n});return R.createElement(Ue,{prefixCls:g,iconPrefixCls:p,theme:y},c.holderRender?c.holderRender(i):i)}),Y=()=>{if(!D){const t=document.createDocumentFragment(),e={fragment:t};D=e,H(()=>{je(R.createElement(ht,{ref:n=>{const{instance:s,sync:r}=n||{};Promise.resolve().then(()=>{!e.instance&&s&&(e.instance=s,e.sync=r,Y())})}}),t)});return}D.instance&&(W.forEach(t=>{const{type:e,skipped:n}=t;if(!n)switch(e){case"open":{H(()=>{const s=D.instance.open({...z,...t.config});s?.then(t.resolve),t.setCloseFn(s)});break}case"destroy":H(()=>{D?.instance.destroy(t.key)});break;default:H(()=>{var s;const r=(s=D.instance)[e].apply(s,_e(t.args));r?.then(t.resolve),t.setCloseFn(r)})}}),W=[])};function Et(t){z={...z,...t},H(()=>{D?.sync?.()})}function vt(t){const e=oe(n=>{let s;const r={type:"open",config:t,resolve:n,setCloseFn:c=>{s=c}};return W.push(r),()=>{s?H(()=>{s()}):r.skipped=!0}});return Y(),e}function xt(t,e){const n=oe(s=>{let r;const c={type:t,args:e,resolve:s,setCloseFn:g=>{r=g}};return W.push(c),()=>{r?H(()=>{r()}):c.skipped=!0}});return Y(),n}const Nt=t=>{W.push({type:"destroy",key:t}),Y()},St=["success","info","warning","error","loading"],bt={open:vt,destroy:Nt,config:Et,useMessage:gt,_InternalPanelDoNotUseOrYouWillBeFired:it},kt=bt;St.forEach(t=>{kt[t]=(...e)=>xt(t,e)});export{qe as C,kt as s};
