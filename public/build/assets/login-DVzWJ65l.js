import{a as m,c as V,u as C,R as B,j as t,r as H,s as T}from"./app-B6r_TxPj.js";import{F as n,I as z}from"./index-Ca7wppxU.js";import{I as A}from"./AntdIcon-CfDRJjfZ.js";import{C as $}from"./index-CqYdFAE4.js";import{B as q}from"./ContextIsolator-Bw6ExzQV.js";import{T as D}from"./index-BZ9BXEnJ.js";import{s as c}from"./index-B-0cTeuO.js";import{A as G}from"./index-BNY9YUcc.js";import{C as J}from"./index-DbKJ5h10.js";import"./app-CbEWB9i-.js";import"./render-DbXmZ5EJ.js";import"./Input-DAOptVL4.js";import"./index-DfbFVuiC.js";import"./InfoCircleFilled-CRePx94_.js";import"./EyeOutlined-CM2hfqon.js";import"./SearchOutlined-WRgWSdTL.js";import"./CheckOutlined-0PrG8dNn.js";import"./CloseOutlined-CdTwbbfa.js";import"./Skeleton-BCZumm4n.js";import"./PlusOutlined-BILouNqv.js";var K={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};function E(){return E=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},E.apply(this,arguments)}const Q=(e,s)=>m.createElement(A,E({},e,{ref:s,icon:K})),P=m.forwardRef(Q);var U={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"};function S(){return S=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e},S.apply(this,arguments)}const W=(e,s)=>m.createElement(A,S({},e,{ref:s,icon:U})),X=m.forwardRef(W),{Title:Y,Text:R}=D;function ye(){const e=V.c(26),[s]=n.useForm(),{errors:a,flash:r,status:f}=C().props;let d,u;e[0]!==r?(d=()=>{r?.success&&c.success(r.success),r?.error&&c.error(r.error),r?.info&&c.info(r.info)},u=[r],e[0]=r,e[1]=d,e[2]=u):(d=e[1],u=e[2]),m.useEffect(d,u);let p,h;e[3]!==a||e[4]!==s?(p=()=>{if(a&&Object.keys(a).length>0){c.error("Email atau password salah");const k=Object.keys(a).map(M=>({name:M,errors:[a[M]]}));s.setFields(k)}},h=[a,s],e[3]=a,e[4]=s,e[5]=p,e[6]=h):(p=e[5],h=e[6]),m.useEffect(p,h);const[x,L]=B.useState(!1);let g;e[7]===Symbol.for("react.memo_cache_sentinel")?(g=k=>{L(!0),H.post(T("login"),k,{preserveScroll:!0,onSuccess:ee,onError:Z,onFinish:()=>{L(!1)}})},e[7]=g):g=e[7];const F=g;let b;e[8]===Symbol.for("react.memo_cache_sentinel")?(b=t.jsxs("div",{className:"mb-8 text-center",children:[t.jsx("div",{className:"mb-4 flex justify-center",children:t.jsx("div",{className:"flex h-16 w-16 items-center justify-center rounded-full bg-blue-500",children:t.jsx(P,{className:"text-3xl text-white"})})}),t.jsx(Y,{level:2,className:"!mb-2",children:"Admin Login"}),t.jsx(R,{type:"secondary",children:"Masukkan kredensial Anda untuk melanjutkan"})]}),e[8]=b):b=e[8];let o;e[9]!==f?(o=f&&t.jsx(G,{message:f,type:"success",showIcon:!0,closable:!0,style:{marginBottom:24}}),e[9]=f,e[10]=o):o=e[10];let j;e[11]===Symbol.for("react.memo_cache_sentinel")?(j=[{required:!0,message:"Email wajib diisi"},{type:"email",message:"Format email tidak valid"}],e[11]=j):j=e[11];let v;e[12]===Symbol.for("react.memo_cache_sentinel")?(v=t.jsx(n.Item,{name:"email",label:"Email",rules:j,children:t.jsx(z,{prefix:t.jsx(X,{className:"text-gray-400"}),placeholder:"admin@example.com",autoComplete:"email"})}),e[12]=v):v=e[12];let y;e[13]===Symbol.for("react.memo_cache_sentinel")?(y=[{required:!0,message:"Password wajib diisi"}],e[13]=y):y=e[13];let w;e[14]===Symbol.for("react.memo_cache_sentinel")?(w=t.jsx(n.Item,{name:"password",label:"Password",rules:y,children:t.jsx(z.Password,{prefix:t.jsx(P,{className:"text-gray-400"}),placeholder:"••••••••",autoComplete:"current-password"})}),e[14]=w):w=e[14];let _;e[15]===Symbol.for("react.memo_cache_sentinel")?(_=t.jsx(n.Item,{name:"remember",valuePropName:"checked",children:t.jsx($,{children:"Ingat saya"})}),e[15]=_):_=e[15];const N=x?"Memproses...":"Login";let l;e[16]!==x||e[17]!==N?(l=t.jsx(n.Item,{children:t.jsx(q,{type:"primary",htmlType:"submit",loading:x,block:!0,size:"large",className:"!h-12 !text-base font-semibold",children:N})}),e[16]=x,e[17]=N,e[18]=l):l=e[18];let i;e[19]!==s||e[20]!==l||e[21]!==o?(i=t.jsxs(n,{form:s,name:"login",onFinish:F,layout:"vertical",size:"large",requiredMark:!1,children:[o,v,w,_,l]}),e[19]=s,e[20]=l,e[21]=o,e[22]=i):i=e[22];let O;e[23]===Symbol.for("react.memo_cache_sentinel")?(O=t.jsx("div",{className:"mt-6 text-center",children:t.jsx(R,{type:"secondary",className:"text-sm",children:"© 2024 Portfolio Admin. All rights reserved."})}),e[23]=O):O=e[23];let I;return e[24]!==i?(I=t.jsx("div",{className:"flex min-h-screen items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:t.jsxs(J,{className:"w-full max-w-md shadow-2xl",bordered:!1,children:[b,i,O]})}),e[24]=i,e[25]=I):I=e[25],I}function Z(){c.error("Login gagal, periksa kembali email dan password Anda")}function ee(){c.success("Login berhasil!")}export{ye as default};
