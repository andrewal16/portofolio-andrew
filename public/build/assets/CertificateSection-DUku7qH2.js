import{a as l,j as e}from"./app-B6r_TxPj.js";import{R as v}from"./render-DbXmZ5EJ.js";import{R as k}from"./FileOutlined-D160BCMt.js";import{R as n}from"./TrophyOutlined-BqKe-68Q.js";import{R as c}from"./BookOutlined-DiwOeDjZ.js";import{R as d}from"./SafetyCertificateOutlined-DbWOw5Tm.js";import{M as D}from"./index-fYzC28Jc.js";import{R as $}from"./DownloadOutlined-BGhvxt2-.js";import{R as L}from"./CloseOutlined-CdTwbbfa.js";import{s as x}from"./index-B-0cTeuO.js";import"./app-CbEWB9i-.js";import"./AntdIcon-CfDRJjfZ.js";import"./ContextIsolator-Bw6ExzQV.js";import"./InfoCircleFilled-CRePx94_.js";import"./ActionButton-BlecjUrr.js";import"./Skeleton-BCZumm4n.js";import"./index-DfbFVuiC.js";import"./useMergedMask-DEfdHsZZ.js";import"./useClosable-BnFp-AKn.js";function ee({initialCertificates:m,onPreview:S}){const[p,f]=l.useState(m.data||[]),[i,g]=l.useState(m.next_page_url),[h,_]=l.useState("all"),[u,b]=l.useState(!1),[r,j]=l.useState(!1),[s,N]=l.useState(null),C=[{key:"all",label:"All Certificates",icon:e.jsx(d,{})},{key:"learning",label:"Learning",icon:e.jsx(c,{})},{key:"competition",label:"Competition",icon:e.jsx(n,{})}],R=async t=>{_(t),b(!0);try{const a=new URLSearchParams;t!=="all"&&a.append("category",t),a.append("per_page","6");const o=await fetch(`/api/portfolio/certificates?${a.toString()}`,{headers:{Accept:"application/json"}});if(o.ok){const w=await o.json();f(w.data||[]),g(w.next_page_url)}}catch{x.error("Failed to load certificates")}finally{b(!1)}},I=async()=>{if(!(!i||r)){j(!0);try{const t=await fetch(i,{headers:{Accept:"application/json"}});if(t.ok){const a=await t.json();f(o=>[...o,...a.data||[]]),g(a.next_page_url)}}catch{x.error("Failed to load more certificates")}finally{j(!1)}}},F=t=>{if(!t||!t.includes("cloudinary.com"))return null;const a=t.split("/upload/");return a.length===2?a[0]+"/upload/pg_1,w_600,h_400,c_fill,f_jpg,q_auto/"+a[1]:null},P=t=>t.is_pdf?F(t.image):t.image,y=(t,a)=>{if(t.includes("cloudinary.com")){const o=t.split("/upload/");if(o.length===2){window.open(o[0]+"/upload/fl_attachment/"+o[1],"_blank"),x.success("Download started!");return}}window.open(t,"_blank")};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"relative z-10 border-y border-white/5 bg-[#0a0f1e]/80 px-6 py-32 backdrop-blur-sm",children:e.jsxs("div",{className:"mx-auto max-w-7xl",children:[e.jsxs("div",{className:"reveal-section mb-12 flex items-center gap-4",children:[e.jsx("span",{className:"block font-mono text-2xl font-bold tracking-widest text-indigo-500",children:"03 / Certifications"}),e.jsx("div",{className:"h-[1px] flex-grow bg-slate-800"})]}),e.jsx("div",{className:"reveal-section mb-12 flex flex-wrap justify-center gap-3",children:C.map(t=>e.jsxs("button",{onClick:()=>R(t.key),disabled:u,className:`group relative flex items-center gap-2 rounded-full border px-6 py-3 font-mono text-sm transition-all duration-300 ${h===t.key?"border-indigo-500 bg-indigo-500/20 text-indigo-400 shadow-[0_0_20px_rgba(99,102,241,0.3)]":"border-white/10 text-slate-400 hover:border-indigo-500/50 hover:bg-white/5 hover:text-white"}`,children:[e.jsx("span",{className:`transition-colors ${h===t.key?"text-indigo-400":"text-slate-500"}`,children:t.icon}),e.jsx("span",{children:t.label}),t.key==="competition"&&e.jsx("span",{className:"ml-1 rounded-full bg-yellow-500/20 px-2 py-0.5 text-[10px] text-yellow-400",children:"ðŸ†"})]},t.key))}),u?e.jsx("div",{className:"flex h-64 items-center justify-center",children:e.jsxs("div",{className:"flex flex-col items-center gap-4",children:[e.jsx(v,{className:"text-4xl text-indigo-500",spin:!0}),e.jsx("span",{className:"font-mono text-sm text-slate-500",children:"Loading certificates..."})]})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-3",children:p.map(t=>{const a=P(t);return e.jsxs("div",{onClick:()=>N(t),className:"reveal-section group relative aspect-[4/3] cursor-pointer overflow-hidden rounded-xl border border-white/10 bg-slate-900 transition-all duration-500 hover:-translate-y-1 hover:border-indigo-500/50 hover:shadow-[0_0_40px_rgba(99,102,241,0.25)]",children:[e.jsxs("div",{className:"absolute inset-0 h-full w-full bg-slate-950",children:[a?e.jsx("img",{src:a,alt:t.title,className:"h-full w-full object-cover opacity-80 transition-transform duration-700 group-hover:scale-110 group-hover:opacity-100"}):e.jsxs("div",{className:"flex h-full w-full flex-col items-center justify-center bg-gradient-to-br from-indigo-900/30 via-slate-900 to-slate-950",children:[e.jsx(k,{className:"text-6xl text-indigo-400 opacity-40"}),e.jsxs("p",{className:"mt-4 font-mono text-xs text-indigo-300/60",children:[t.is_pdf?"PDF":"IMAGE"," ","CERTIFICATE"]})]}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-[#020617] via-[#020617]/80 to-transparent"})]}),e.jsxs("div",{className:"absolute bottom-0 left-0 z-20 w-full p-6",children:[e.jsxs("div",{className:"mb-3 flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:t.category==="competition"?e.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-yellow-500/30 bg-yellow-500/10 px-2 py-1 font-mono text-[10px] text-yellow-400",children:[e.jsx(n,{})," ","AWARD"]}):e.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-indigo-500/30 bg-indigo-500/10 px-2 py-1 font-mono text-[10px] text-indigo-300",children:[e.jsx(c,{})," ","COURSE"]})}),t.is_pdf&&e.jsx("span",{className:"rounded bg-red-500/20 px-2 py-0.5 font-mono text-[10px] text-red-400",children:"PDF"})]}),e.jsx("h4",{className:"mb-1 line-clamp-2 text-lg font-bold text-white transition-colors group-hover:text-indigo-200",children:t.title}),e.jsxs("div",{className:"mt-2 flex items-center justify-between border-t border-white/10 pt-2",children:[e.jsx("p",{className:"font-mono text-xs text-slate-400 uppercase transition-colors group-hover:text-white",children:t.issuer}),e.jsx("span",{className:"font-mono text-[10px] text-slate-600 group-hover:text-indigo-400",children:t.issued_date})]})]})]},t.id)})}),p.length===0&&e.jsxs("div",{className:"py-16 text-center",children:[e.jsx(d,{className:"mb-4 text-5xl text-slate-700"}),e.jsx("p",{className:"font-mono text-slate-500",children:"No certificates found for this category."})]}),i&&e.jsx("div",{className:"mt-12 text-center",children:e.jsxs("button",{onClick:I,disabled:r,className:"group relative inline-flex items-center gap-3 border border-indigo-500/30 px-8 py-3 font-mono text-sm tracking-widest text-indigo-400 uppercase transition-all hover:bg-indigo-500/10 disabled:opacity-50",children:[r?e.jsxs(e.Fragment,{children:[e.jsx(v,{spin:!0}),e.jsx("span",{children:"Loading..."})]}):e.jsx("span",{children:"Load More Certificates"}),e.jsx("span",{className:"absolute top-0 left-0 h-2 w-2 border-t border-l border-indigo-500"}),e.jsx("span",{className:"absolute right-0 bottom-0 h-2 w-2 border-r border-b border-indigo-500"})]})})]})]})}),e.jsx(D,{open:!!s,onCancel:()=>N(null),footer:null,centered:!0,width:1e3,closeIcon:e.jsx(L,{className:"text-white"}),styles:{content:{backgroundColor:"#0f172a",border:"1px solid #1e293b",color:"white",padding:0},mask:{backdropFilter:"blur(8px)",backgroundColor:"rgba(2,6,23,0.8)"}},children:s&&e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"border-b border-white/10 bg-slate-900/50 p-6 backdrop-blur-sm",children:[e.jsxs("div",{className:"mb-2 flex items-center gap-2",children:[s.category==="competition"?e.jsx(n,{className:"text-yellow-400"}):e.jsx(c,{className:"text-indigo-400"}),e.jsx("span",{className:`font-mono text-xs uppercase ${s.category==="competition"?"text-yellow-400":"text-indigo-400"}`,children:s.category_label})]}),e.jsx("h3",{className:"mb-2 text-2xl font-bold text-white",children:s.title}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("span",{className:"font-mono text-slate-400",children:[e.jsx("span",{className:"text-slate-600",children:"Issued by:"})," ",e.jsx("span",{className:"text-white",children:s.issuer})]}),e.jsx("span",{className:"h-1 w-1 rounded-full bg-slate-700"}),e.jsxs("span",{className:"font-mono text-slate-400",children:[e.jsx("span",{className:"text-slate-600",children:"Date:"})," ",e.jsx("span",{className:"text-white",children:s.issued_date})]})]})]}),e.jsx("div",{className:"p-6",children:s.is_pdf?e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"relative h-[70vh] w-full overflow-hidden rounded-lg border border-white/10 bg-slate-950",children:e.jsx("object",{data:s.image,type:"application/pdf",className:"h-full w-full",children:e.jsxs("div",{className:"flex h-full flex-col items-center justify-center space-y-4 p-8 text-center",children:[e.jsx(k,{className:"text-4xl text-slate-500"}),e.jsx("p",{className:"text-slate-400",children:"Browser doesn't support PDF preview."}),e.jsx("button",{onClick:()=>y(s.image,`${s.title}.pdf`),className:"rounded-full bg-cyan-600 px-6 py-2 font-bold text-white hover:bg-cyan-500",children:"Download PDF"})]})})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsxs("button",{onClick:()=>y(s.image,`${s.title}.pdf`),className:"flex items-center gap-2 rounded-lg border border-cyan-500/30 bg-cyan-500/10 px-4 py-2 font-mono text-sm text-cyan-300 hover:bg-cyan-500/20",children:[e.jsx($,{}),"Download"]}),s.credential_url&&e.jsxs("a",{href:s.credential_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 rounded-lg border border-indigo-500/30 bg-indigo-500/10 px-4 py-2 font-mono text-sm text-indigo-300 hover:bg-indigo-500/20",children:[e.jsx(d,{}),"Verify"]})]})]}):e.jsx("div",{className:"rounded-lg border border-white/10 bg-black/50 p-2",children:e.jsx("img",{src:s.image,className:"h-auto max-h-[70vh] w-full object-contain",alt:"Certificate"})})})]})})]})}export{ee as CertificatesSection};
